
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Corpus encyclopédique francophone — science informatique, interopérabilité et entreprise agentique">
      
      
        <meta name="author" content="André-Guy Bruneau">
      
      
        <link rel="canonical" href="https://agbruneau.github.io/CorpusInformatique/III%20-%20Entreprise%20Agentique/Volume_III_Apache_Kafka_Guide_Architecte/Chapitre_III.3_Clients_Kafka_Production/">
      
      
        <link rel="prev" href="../Chapitre_III.2_Architecture_Cluster_Kafka/">
      
      
        <link rel="next" href="../Chapitre_III.4_Applications_Consommatrices/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>III.3 — Clients Kafka en production - Corpus Informatique</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chapitre-iii3" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../../.." title="Corpus Informatique" class="md-header__button md-logo" aria-label="Corpus Informatique" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Corpus Informatique
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              III.3 — Clients Kafka en production
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Passer au mode sombre"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passer au mode sombre" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Passer au mode clair"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passer au mode clair" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/agbruneau/CorpusInformatique" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    agbruneau/CorpusInformatique
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Accueil

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_I_Fondements_Mathematiques_Theorie/Chapitre_I.1_Fondements_Logiques_Raisonnement/" class="md-tabs__link">
          
  
  
    
  
  I — Science et Génie Informatique

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.1_Introduction_Problematique/" class="md-tabs__link">
          
  
  
    
  
  II — Interopérabilité

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.1_Crise_Integration_Systemique/" class="md-tabs__link">
          
  
  
    
  
  III — Entreprise Agentique

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Corpus Informatique" class="md-nav__button md-logo" aria-label="Corpus Informatique" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Corpus Informatique
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/agbruneau/CorpusInformatique" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    agbruneau/CorpusInformatique
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accueil
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    I — Science et Génie Informatique
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    I — Science et Génie Informatique
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume I — Fondements Mathématiques et Théorie de l'Informatique
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume I — Fondements Mathématiques et Théorie de l'Informatique
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_I_Fondements_Mathematiques_Theorie/Chapitre_I.1_Fondements_Logiques_Raisonnement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.1 — Fondements logiques et raisonnement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_I_Fondements_Mathematiques_Theorie/Chapitre_I.2_Structures_Discretes_Combinatoire/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.2 — Structures discrètes et combinatoire
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_I_Fondements_Mathematiques_Theorie/Chapitre_I.3_Theorie_Graphes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.3 — Théorie des graphes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_I_Fondements_Mathematiques_Theorie/Chapitre_I.4_Langages_Formels_Automates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.4 — Langages formels et automates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_I_Fondements_Mathematiques_Theorie/Chapitre_I.5_Calculabilite_Decidabilite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.5 — Calculabilité et décidabilité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_I_Fondements_Mathematiques_Theorie/Chapitre_I.6_Theorie_Complexite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.6 — Théorie de la complexité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume II — Architecture des Ordinateurs et Systèmes Numériques
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume II — Architecture des Ordinateurs et Systèmes Numériques
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.7_Systemes_Numeriques_Donnees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.7 — Systèmes numériques et données
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.8_Circuits_Combinatoires/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.8 — Circuits combinatoires
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.9_Circuits_Sequentiels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.9 — Circuits séquentiels
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.10_Conception_Systeme_HDL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.10 — Conception système HDL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.11_Architecture_ISA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.11 — Architecture ISA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.12_Conception_CPU/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.12 — Conception CPU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.13_Parallelisme_ILP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.13 — Parallélisme ILP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.14_Hierarchie_Memoire_Stockage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.14 — Hiérarchie mémoire et stockage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_II_Architecture_Ordinateurs_Systemes_Numeriques/Chapitre_I.15_Systemes_IO_Accelere/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.15 — Systèmes I/O accélérés
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume III — Systèmes d'Exploitation, Langages et Environnements
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume III — Systèmes d'Exploitation, Langages et Environnements
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_III_Systemes_Exploitation_Langages_Environnements/Chapitre_I.16_Systemes_Exploitation_OS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.16 — Systèmes d'exploitation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_III_Systemes_Exploitation_Langages_Environnements/Chapitre_I.17_Gestion_Concurrence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.17 — Gestion de la concurrence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_III_Systemes_Exploitation_Langages_Environnements/Chapitre_I.18_Gestion_Memoire_Fichiers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.18 — Gestion mémoire et fichiers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_III_Systemes_Exploitation_Langages_Environnements/Chapitre_I.19_Conception_Langages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.19 — Conception des langages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_III_Systemes_Exploitation_Langages_Environnements/Chapitre_I.20_Compilation_Interpretation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.20 — Compilation et interprétation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_III_Systemes_Exploitation_Langages_Environnements/Chapitre_I.21_Environnements_Virtualisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.21 — Environnements et virtualisation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume IV — Structures de Données, Algorithmique et Génie Logiciel
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume IV — Structures de Données, Algorithmique et Génie Logiciel
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IV_Structures_Donnees_Algorithmique_Genie_Logiciel/Chapitre_I.22_Structures_Donnees_Fondamentales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.22 — Structures de données fondamentales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IV_Structures_Donnees_Algorithmique_Genie_Logiciel/Chapitre_I.23_Structures_Donnees_Avancees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.23 — Structures de données avancées
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IV_Structures_Donnees_Algorithmique_Genie_Logiciel/Chapitre_I.24_Conception_Analyse_Algorithmes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.24 — Conception et analyse d'algorithmes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IV_Structures_Donnees_Algorithmique_Genie_Logiciel/Chapitre_I.25_Algorithmes_Graphes_Avances/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.25 — Algorithmes de graphes avancés
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IV_Structures_Donnees_Algorithmique_Genie_Logiciel/Chapitre_I.26_Processus_Developpement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.26 — Processus de développement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IV_Structures_Donnees_Algorithmique_Genie_Logiciel/Chapitre_I.27_Architecture_Logicielle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.27 — Architecture logicielle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IV_Structures_Donnees_Algorithmique_Genie_Logiciel/Chapitre_I.28_Qualite_Test_Maintenance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.28 — Qualité, test et maintenance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IV_Structures_Donnees_Algorithmique_Genie_Logiciel/Chapitre_I.29_DevOps_SRE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.29 — DevOps et SRE
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume V — Données, Réseaux, Cloud et Sécurité
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume V — Données, Réseaux, Cloud et Sécurité
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.30_SGBD_Fondements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.30 — SGBD fondements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.31_SGBD_Implementation_Transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.31 — SGBD implémentation et transactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.32_Donnees_Modernes_BigData/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.32 — Données modernes et Big Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.33_Fondements_Reseaux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.33 — Fondements des réseaux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.34_Protocoles_Internetworking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.34 — Protocoles et internetworking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.35_Systemes_Distribues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.35 — Systèmes distribués
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.36_Cloud_Infrastructures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.36 — Cloud et infrastructures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.37_Fondements_Securite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.37 — Fondements de la sécurité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.38_Cryptographie_Appliquee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.38 — Cryptographie appliquée
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.39_Securite_Reseaux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.39 — Sécurité des réseaux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_V_Donnees_Reseaux_Cloud_Securite/Chapitre_I.40_Securite_Systemes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.40 — Sécurité des systèmes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume VI — Intelligence Artificielle et Systèmes Interactifs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume VI — Intelligence Artificielle et Systèmes Interactifs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.41_Fondements_IA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.41 — Fondements de l'IA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.42_Connaissance_Raisonnement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.42 — Connaissance et raisonnement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.43_ML_Fondements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.43 — ML fondements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.44_DeepLearning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.44 — Deep Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.45_Reinforcement_Learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.45 — Reinforcement Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.46_TALN_NLP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.46 — TALN / NLP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.47_Vision_Ordinateur/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.47 — Vision par ordinateur
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.48_Infographie_Visualisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.48 — Infographie et visualisation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.49_IHM_HCI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.49 — IHM / HCI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VI_Intelligence_Artificielle_Systemes_Interactifs/Chapitre_I.50_Robotique_IoT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.50 — Robotique et IoT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume VII — Technologies Émergentes et Frontières
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume VII — Technologies Émergentes et Frontières
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.51_Informatique_Quantique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.51 — Informatique quantique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.52_Algorithmes_Cryptographie_Quantiques/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.52 — Algorithmes et cryptographie quantiques
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.53_HPC_Exascale/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.53 — HPC et exascale
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.54_Architectures_Post_Moore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.54 — Architectures post-Moore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.55_Modeles_Fondateurs_IA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.55 — Modèles fondateurs IA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.56_AGI_Alignement_Securite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.56 — AGI, alignement et sécurité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.57_Sciences_Computationnelles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.57 — Sciences computationnelles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.58_CyberPhysiques_Jumeaux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.58 — Systèmes cyber-physiques et jumeaux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.59_Web3_Decentralise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.59 — Web3 et décentralisé
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VII_Technologies_Emergentes_Frontieres/Chapitre_I.60_Synthese_Frontieres/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.60 — Synthèse et frontières
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume VIII — Convergence AGI–Quantique : Fondements et Algorithmes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume VIII — Convergence AGI–Quantique : Fondements et Algorithmes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.61_Introduction_Informatique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.61 — Introduction à l'informatique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.62_Convergence_AGI_Quantique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.62 — Convergence AGI-quantique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.63_Evolution_IA_Quantique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.63 — Évolution IA-quantique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.64_Reseaux_Neuronaux_Quantiques/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.64 — Réseaux neuronaux quantiques
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.65_Algorithmes_Evolutionnaires_Quantiques/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.65 — Algorithmes évolutionnaires quantiques
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.66_Renforcement_Quantique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.66 — Renforcement quantique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.67_Architectures_Hybrides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.67 — Architectures hybrides
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.68_SVM_Quantiques/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.68 — SVM quantiques
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.69_Codage_Donnees_Quantiques/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.69 — Codage de données quantiques
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_VIII_Convergence_AGI_Quantique_Fondements/Chapitre_I.70_Scalabilite_Correction_Erreurs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.70 — Scalabilité et correction d'erreurs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume IX — Convergence AGI–Quantique : Applications et Perspectives
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume IX — Convergence AGI–Quantique : Applications et Perspectives
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.71_TALN_Quantique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.71 — TALN quantique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.72_Securite_Confidentialite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.72 — Sécurité et confidentialité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.73_Ethique_Reglementaire/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.73 — Éthique et réglementaire
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.74_Implementation_Materielle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.74 — Implémentation matérielle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.75_Middleware_Software/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.75 — Middleware et software
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.76_Etudes_Cas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.76 — Études de cas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.77_Durabilite_Energie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.77 — Durabilité et énergie
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.78_Metriques_Bancs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.78 — Métriques et bancs d'essai
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.79_Perspectives_Avenir/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.79 — Perspectives d'avenir
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../I%20-%20Science%20et%20G%C3%A9nie%20Informatique/Volume_IX_Convergence_AGI_Quantique_Applications/Chapitre_I.80_Infrastructure_Centres_Donnees_IA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.80 — Infrastructure et centres de données IA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    II — Interopérabilité
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    II — Interopérabilité
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.1_Introduction_Problematique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.1 — Introduction et problématique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.2_Fondements_Theoriques/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.2 — Fondements théoriques
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.3_Integration_Applications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.3 — Intégration des applications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.4_Integration_Donnees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.4 — Intégration des données
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.5_Integration_Evenements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.5 — Intégration des événements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.6_Standards_Contrats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.6 — Standards et contrats
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.7_Resilience_Observabilite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.7 — Résilience et observabilité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.8_Collaboration_Automatisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.8 — Collaboration et automatisation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.9_Architecture_Reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.9 — Architecture de référence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.10_Order_to_Cash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.10 — Order-to-Cash
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.11_Entreprise_Agentique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.11 — Entreprise agentique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.12_Securite_Identite_Conformite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.12 — Sécurité, identité et conformité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../II%20-%20Interop%C3%A9rabilit%C3%A9/Chapitre_II.A_Annexes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Annexes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    III — Entreprise Agentique
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    III — Entreprise Agentique
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume I — Fondations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume I — Fondations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.1_Crise_Integration_Systemique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.1 — Crise d'intégration systémique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.2_Fondements_Dimensions_Interoperabilite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.2 — Fondements et dimensions de l'interopérabilité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.3_Cadres_Reference_Standards_Maturite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.3 — Cadres de référence, standards et maturité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.4_Principes_Architecture_Reactive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.4 — Principes d'architecture réactive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.5_Ecosysteme_API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.5 — Écosystème API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.6_Architecture_Evenements_EDA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.6 — Architecture événements (EDA)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.7_Contrats_Donnees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.7 — Contrats de données
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.8_Conception_Implementation_Observabilite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.8 — Conception et implémentation de l'observabilité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.9_Etudes_Cas_Architecturales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.9 — Études de cas architecturales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.10_Limites_Interoperabilite_Semantique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.10 — Limites de l'interopérabilité sémantique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.11_IA_Moteur_Interoperabilite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.11 — IA moteur d'interopérabilité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.12_Definition_Interoperabilite_Cognitivo_Adaptative/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.12 — Définition de l'interopérabilité cognitivo-adaptative
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.13_Ere_IA_Agentique_Modele_Travailleur_Numerique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.13 — Ère IA agentique et modèle du travailleur numérique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.14_Maillage_Agentique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.14 — Maillage agentique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.15_Ingenierie_Systemes_Cognitifs_Protocoles_Interaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.15 — Ingénierie des systèmes cognitifs et protocoles d'interaction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.16_Modele_Operationnel_Symbiose_Humain_Agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.16 — Modèle opérationnel de symbiose humain-agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.17_Gouvernance_Constitutionnelle_Alignement_IA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.17 — Gouvernance constitutionnelle et alignement IA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.18_AgentOps_Industrialisation_Securisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.18 — AgentOps : industrialisation et sécurisation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.19_Architecte_Intentions_Role_Sociotechnique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.19 — Architecte des intentions : rôle sociotechnique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.20_Cockpit_Berger_Intention/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.20 — Cockpit du berger d'intention
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.21_Feuille_Route_Transformation_Agentique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.21 — Feuille de route de la transformation agentique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.22_Gestion_Strategique_Portefeuille_Applicatif_APM_Cognitif/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.22 — Gestion stratégique du portefeuille applicatif (APM cognitif)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.23_Patrons_Modernisation_Agentification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.23 — Patrons de modernisation et agentification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.24_Industrialisation_Ingenierie_Plateforme/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.24 — Industrialisation et ingénierie de plateforme
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.25_Economie_Cognitive_Diplomatie_Algorithmique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.25 — Économie cognitive et diplomatie algorithmique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.26_Gestion_Risques_Systemiques_Superalignement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.26 — Gestion des risques systémiques et superalignement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.27_Prospective_Agent_Auto_Architecturant_AGI_Entreprise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.27 — Prospective : agent auto-architecturant et AGI d'entreprise
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_I_Fondations_Entreprise_Agentique/Chapitre_I.28_Conclusion_Architecture_Intentionnelle_Sagesse_Collective/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I.28 — Conclusion : architecture intentionnelle et sagesse collective
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume II — Infrastructure Agentique
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume II — Infrastructure Agentique
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.1_Ingenierie_Plateforme/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.1 — Ingénierie de plateforme
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.2_Fondamentaux_Apache_Kafka_Confluent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.2 — Fondamentaux Apache Kafka et Confluent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.3_Conception_Modelisation_Flux_Evenements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.3 — Conception et modélisation des flux d'événements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.4_Contrats_Donnees_Gouvernance_Semantique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.4 — Contrats de données et gouvernance sémantique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.5_Flux_Temps_Reel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.5 — Flux temps réel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.6_Google_Cloud_Vertex_AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.6 — Google Cloud et Vertex AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.7_Ingenierie_Contexte_RAG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.7 — Ingénierie de contexte et RAG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.8_Integration_Backbone_Evenementiel_Couche_Cognitive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.8 — Intégration backbone événementiel et couche cognitive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.9_Patrons_Architecturaux_Avances_AEM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.9 — Patrons architecturaux avancés (AEM)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.10_Pipelines_CI_CD_Deploiement_Agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.10 — Pipelines CI/CD et déploiement d'agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.11_Observabilite_Comportementale_Monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.11 — Observabilité comportementale et monitoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.12_Tests_Evaluation_Simulation_Systemes_Multi_Agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.12 — Tests, évaluation et simulation de systèmes multi-agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.13_Paysage_Menaces_Securite_Systemes_Agentiques/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.13 — Paysage des menaces et sécurité des systèmes agentiques
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.14_Securisation_Infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.14 — Sécurisation de l'infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_II_Infrastructure_Agentique/Chapitre_II.15_Conformite_Reglementaire_Gestion_Confidentialite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    II.15 — Conformité réglementaire et gestion de la confidentialité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume III — Apache Kafka : Guide de l'Architecte
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume III — Apache Kafka : Guide de l'Architecte
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.1_Decouvrir_Kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.1 — Découvrir Kafka
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.2_Architecture_Cluster_Kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.2 — Architecture du cluster Kafka
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    III.3 — Clients Kafka en production
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    III.3 — Clients Kafka en production
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clients-kafka-et-production-de-messages" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLIENTS KAFKA ET PRODUCTION DE MESSAGES
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii31-lanatomie-dun-producer-kafka" class="md-nav__link">
    <span class="md-ellipsis">
      
        III.3.1 L'Anatomie d'un Producer Kafka
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III.3.1 L&#39;Anatomie d&#39;un Producer Kafka">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-interne-du-producteur" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Interne du Producteur
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cycle-de-vie-dun-message" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cycle de Vie d'un Message
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-fondamentale" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Fondamentale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-asynchrone-et-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gestion Asynchrone et Callbacks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intercepteurs-de-production" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intercepteurs de Production
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilisation-des-headers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Utilisation des Headers
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii32-garanties-fondamentales-de-production" class="md-nav__link">
    <span class="md-ellipsis">
      
        III.3.2 Garanties Fondamentales de Production
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III.3.2 Garanties Fondamentales de Production">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#le-spectre-des-garanties-de-livraison" class="md-nav__link">
    <span class="md-ellipsis">
      
        Le Spectre des Garanties de Livraison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-acks-le-compromis-fondamental" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration acks : Le Compromis Fondamental
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#idempotence-du-producteur" class="md-nav__link">
    <span class="md-ellipsis">
      
        Idempotence du Producteur
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transactions-kafka" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transactions Kafka
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-des-erreurs-et-retry" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gestion des Erreurs et Retry
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii33-strategies-de-partitionnement-et-ordonnancement" class="md-nav__link">
    <span class="md-ellipsis">
      
        III.3.3 Stratégies de Partitionnement et Ordonnancement
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III.3.3 Stratégies de Partitionnement et Ordonnancement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#le-partitionnement-comme-decision-architecturale" class="md-nav__link">
    <span class="md-ellipsis">
      
        Le Partitionnement comme Décision Architecturale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strategies-de-partitionnement-integrees" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stratégies de Partitionnement Intégrées
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-dun-partitionneur-personnalise" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implémentation d'un Partitionneur Personnalisé
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preservation-de-lordre" class="md-nav__link">
    <span class="md-ellipsis">
      
        Préservation de l'Ordre
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#impact-du-nombre-de-partitions-sur-le-partitionnement" class="md-nav__link">
    <span class="md-ellipsis">
      
        Impact du Nombre de Partitions sur le Partitionnement
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii34-serialisation-des-donnees-et-gestion-des-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      
        III.3.4 Sérialisation des Données et Gestion des Schémas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III.3.4 Sérialisation des Données et Gestion des Schémas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#le-role-critique-de-la-serialisation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Le Rôle Critique de la Sérialisation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formats-de-serialisation-courants" class="md-nav__link">
    <span class="md-ellipsis">
      
        Formats de Sérialisation Courants
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-registry" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Registry
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bonnes-pratiques-de-gestion-des-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bonnes Pratiques de Gestion des Schémas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii35-optimisation-des-performances" class="md-nav__link">
    <span class="md-ellipsis">
      
        III.3.5 Optimisation des Performances
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III.3.5 Optimisation des Performances">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metriques-de-performance-du-producteur" class="md-nav__link">
    <span class="md-ellipsis">
      
        Métriques de Performance du Producteur
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leviers-doptimisation-du-debit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Leviers d'Optimisation du Débit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leviers-doptimisation-de-la-latence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Leviers d'Optimisation de la Latence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimisation-de-la-compression" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optimisation de la Compression
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compromis-latence-vs-debit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compromis Latence vs. Débit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-et-alerting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring et Alerting
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii36-recommandations-architecturales-pour-les-producers" class="md-nav__link">
    <span class="md-ellipsis">
      
        III.3.6 Recommandations Architecturales pour les Producers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III.3.6 Recommandations Architecturales pour les Producers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#patterns-de-conception-recommandes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Patterns de Conception Recommandés
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resilience-et-haute-disponibilite" class="md-nav__link">
    <span class="md-ellipsis">
      
        Résilience et Haute Disponibilité
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#considerations-multi-datacenter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Considérations Multi-Datacenter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests-des-producteurs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tests des Producteurs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#producteurs-dans-differents-langages" class="md-nav__link">
    <span class="md-ellipsis">
      
        Producteurs dans Différents Langages
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checklist-de-mise-en-production" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checklist de Mise en Production
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii37-resume" class="md-nav__link">
    <span class="md-ellipsis">
      
        III.3.7 Résumé
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III.3.7 Résumé">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-interne" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Interne
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#garanties-de-livraison" class="md-nav__link">
    <span class="md-ellipsis">
      
        Garanties de Livraison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strategies-de-partitionnement" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stratégies de Partitionnement
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serialisation-et-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sérialisation et Schémas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimisation-des-performances" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optimisation des Performances
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bonnes-pratiques" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bonnes Pratiques
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vers-le-chapitre-suivant" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vers le Chapitre Suivant
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.4_Applications_Consommatrices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.4 — Applications consommatrices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.5_Cas_Utilisation_Kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.5 — Cas d'utilisation Kafka
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.6_Contrats_Donnees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.6 — Contrats de données
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.7_Patrons_Interaction_Kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.7 — Patrons d'interaction Kafka
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.8_Conception_Application_Streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.8 — Conception d'application streaming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.9_Gestion_Kafka_Entreprise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.9 — Gestion Kafka en entreprise
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.10_Organisation_Projet_Kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.10 — Organisation d'un projet Kafka
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.11_Operer_Kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.11 — Opérer Kafka
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapitre_III.12_Avenir_Kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    III.12 — L'avenir de Kafka
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume IV — Apache Iceberg et Lakehouse
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume IV — Apache Iceberg et Lakehouse
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.1_Monde_Lakehouse_Iceberg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.1 — Le monde Lakehouse et Iceberg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.2_Anatomie_Technique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.2 — Anatomie technique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.3_Mise_Pratique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.3 — Mise en pratique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.4_Preparer_Passage_Iceberg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.4 — Préparer le passage à Iceberg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.5_Selection_Couche_Stockage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.5 — Sélection de la couche de stockage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.6_Architecture_Couche_Ingestion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.6 — Architecture de la couche d'ingestion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.7_Implementation_Couche_Catalogue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.7 — Implémentation de la couche catalogue
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.8_Conception_Couche_Federation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.8 — Conception de la couche de fédération
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.9_Comprendre_Couche_Consommation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.9 — Comprendre la couche de consommation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.10_Maintenir_Lakehouse_Production/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.10 — Maintenir le Lakehouse en production
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.11_Operationnaliser_Apache_Iceberg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.11 — Opérationnaliser Apache Iceberg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.12_Evolution_Streaming_Lakehouse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.12 — Évolution du streaming Lakehouse
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.13_Securite_Gouvernance_Conformite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.13 — Sécurité, gouvernance et conformité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.14_Integration_Microsoft_Fabric_PowerBI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.14 — Intégration Microsoft Fabric et Power BI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.15_Contexte_Canadien_Etudes_Cas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.15 — Contexte canadien et études de cas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.16_Conclusion_Perspectives_2026_2030/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IV.16 — Conclusion et perspectives 2026-2030
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.Annexe_A_Specification_Apache_Iceberg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Annexe A — Spécification Apache Iceberg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_IV_Apache_Iceberg_Lakehouse/Chapitre_IV.Annexe_B_Glossaire/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Annexe B — Glossaire
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume V — Développeur Renaissance
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume V — Développeur Renaissance
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.0_Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.0 — Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.1_Convergence_Ages_Or/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.1 — Convergence des âges d'or
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.2_Curiosite_Appliquee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.2 — Curiosité appliquée
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.3_Pensee_Systemique/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.3 — Pensée systémique
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.4_Nouvelle_Communication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.4 — Nouvelle communication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.5_Imperatif_Qualite_Responsabilite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.5 — Impératif qualité et responsabilité
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.6_Capital_Humain_Profil_Polymathe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.6 — Capital humain et profil polymathe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.7_Art_Batir_Futur/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.7 — L'art de bâtir le futur
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.8_Bibliotheque_Developpeur_Renaissance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.8 — Bibliothèque du développeur Renaissance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.9_Mandat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.9 — Mandat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Volume_V_Developpeur_Renaissance/Chapitre_V.10_Spec_Driven_Development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    V.10 — Spec-Driven Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="chapitre-iii3">Chapitre III.3<a class="headerlink" href="#chapitre-iii3" title="Permanent link">&para;</a></h1>
<h2 id="clients-kafka-et-production-de-messages">CLIENTS KAFKA ET PRODUCTION DE MESSAGES<a class="headerlink" href="#clients-kafka-et-production-de-messages" title="Permanent link">&para;</a></h2>
<hr />
<blockquote>
<p><em>« La qualité d'un système distribué se mesure à la robustesse de ses producteurs autant qu'à la fiabilité de son infrastructure. »</em></p>
<p>— Jay Kreps, Co-créateur d'Apache Kafka</p>
</blockquote>
<hr />
<p>Les chapitres précédents ont établi les fondations architecturales de Kafka : la perspective stratégique de l'architecte et les mécanismes internes du cluster. Ce chapitre se concentre sur le côté client de l'équation — comment les applications publient des messages vers Kafka de manière efficace, fiable et performante.</p>
<p>Le producteur Kafka (producer) est souvent perçu comme un composant simple : on envoie un message, Kafka le stocke. Cette simplicité apparente masque une complexité considérable. Le producteur est responsable de la sérialisation des données, du partitionnement, du batching, de la compression, de la gestion des erreurs et des retry, de la confirmation des écritures, et de nombreuses autres préoccupations qui déterminent la fiabilité et la performance du système global.</p>
<p>L'architecte qui comprend en profondeur le fonctionnement du producteur sera capable de concevoir des applications robustes, de diagnostiquer les problèmes de performance, et de faire des choix éclairés sur les compromis entre latence, débit et durabilité. Ce chapitre fournit cette compréhension, en combinant la théorie nécessaire avec des recommandations pratiques issues de l'expérience terrain.</p>
<p>Nous explorerons successivement l'anatomie interne du producteur, les garanties de livraison, les stratégies de partitionnement, la sérialisation et la gestion des schémas, l'optimisation des performances, et les bonnes pratiques architecturales. Chaque section est conçue pour fournir à l'architecte les connaissances nécessaires pour prendre des décisions éclairées.</p>
<hr />
<h2 id="iii31-lanatomie-dun-producer-kafka">III.3.1 L'Anatomie d'un Producer Kafka<a class="headerlink" href="#iii31-lanatomie-dun-producer-kafka" title="Permanent link">&para;</a></h2>
<h3 id="architecture-interne-du-producteur">Architecture Interne du Producteur<a class="headerlink" href="#architecture-interne-du-producteur" title="Permanent link">&para;</a></h3>
<p>Le producteur Kafka n'est pas un simple client qui envoie des requêtes au serveur. C'est un composant sophistiqué avec sa propre architecture interne, optimisée pour le débit et la fiabilité. Comprendre cette architecture est essentiel pour configurer correctement le producteur et diagnostiquer les problèmes.</p>
<p>Le producteur Kafka se compose de plusieurs composants internes qui travaillent ensemble pour transformer un appel <code>send()</code> en messages persistés sur le cluster.</p>
<p><strong>Le thread principal (application thread).</strong> C'est le thread de l'application qui appelle la méthode <code>send()</code>. Ce thread est responsable de la sérialisation du message (clé et valeur), du calcul de la partition cible, et de l'ajout du message au buffer d'accumulation. Le thread principal n'attend pas que le message soit effectivement envoyé au broker — il retourne immédiatement (ou après accumulation selon la configuration).</p>
<p><strong>L'accumulateur de records (RecordAccumulator).</strong> Les messages ne sont pas envoyés individuellement au broker. Ils sont accumulés dans des buffers par partition, formant des batches. L'accumulateur maintient une file de batches pour chaque partition du cluster. Cette structure permet le batching efficace et l'envoi groupé.</p>
<p><strong>Le thread sender.</strong> Un thread séparé, appelé « sender », est responsable de l'envoi effectif des batches vers les brokers. Ce thread surveille les batches prêts (qui ont atteint leur taille maximale ou leur temps d'attente maximal), établit les connexions avec les brokers leaders appropriés, envoie les requêtes de production, et gère les réponses et les retry en cas d'erreur.</p>
<p><strong>Le pool de buffers (BufferPool).</strong> Pour éviter les allocations mémoire répétées, le producteur maintient un pool de buffers réutilisables. La taille totale de ce pool est contrôlée par <code>buffer.memory</code> (défaut 32 Mo). Si le pool est épuisé (trop de messages en attente d'envoi), les appels <code>send()</code> peuvent bloquer ou échouer selon la configuration.</p>
<blockquote>
<p><strong>Définition formelle</strong></p>
<p>Le <strong>RecordAccumulator</strong> est le composant central du producteur Kafka responsable du batching. Il maintient une structure de données <code>Map&lt;TopicPartition, Deque&lt;ProducerBatch&gt;&gt;</code> où chaque partition possède une file de batches en cours d'accumulation. Le premier batch de chaque file est le batch « courant » qui reçoit les nouveaux messages ; les batches suivants sont en attente d'envoi.</p>
</blockquote>
<h3 id="cycle-de-vie-dun-message">Cycle de Vie d'un Message<a class="headerlink" href="#cycle-de-vie-dun-message" title="Permanent link">&para;</a></h3>
<p>Pour comprendre le comportement du producteur, suivons le parcours d'un message depuis l'appel <code>send()</code> jusqu'à la confirmation de persistance. Cette compréhension détaillée permet de diagnostiquer les problèmes et d'optimiser les performances.</p>
<p><strong>Étape 1 : Sérialisation.</strong> L'application fournit une clé et une valeur sous forme d'objets Java (ou du langage utilisé). Le producteur utilise les sérialiseurs configurés (<code>key.serializer</code> et <code>value.serializer</code>) pour convertir ces objets en tableaux d'octets. Si la sérialisation échoue, une exception est levée immédiatement.</p>
<p>La sérialisation est synchrone et s'exécute dans le thread appelant. Un sérialiseur lent ou une sérialisation de gros objets peut impacter la latence perçue par l'application. Pour les objets complexes, considérer la mise en cache des résultats de sérialisation si le même objet est envoyé plusieurs fois.</p>
<p><strong>Étape 2 : Partitionnement.</strong> Le producteur détermine la partition cible. Si une partition est explicitement spécifiée dans l'appel <code>send()</code>, elle est utilisée. Sinon, si une clé est fournie, le hash de la clé détermine la partition. Si aucune clé n'est fournie, le partitionneur par défaut utilise un algorithme round-robin avec « sticky partitioning » pour optimiser le batching.</p>
<p>Le calcul de partition inclut une vérification des métadonnées du cluster. Si les métadonnées sont périmées (leader changé, partition indisponible), une requête de rafraîchissement est déclenchée. Ce rafraîchissement peut ajouter de la latence lors des premiers envois ou après des changements de topologie.</p>
<p><strong>Étape 3 : Validation et interception.</strong> Avant l'accumulation, le message peut passer par des intercepteurs configurés (<code>interceptor.classes</code>). Les intercepteurs permettent d'ajouter des métadonnées (headers), de modifier le message, ou de journaliser. Ils s'exécutent dans le thread appelant et doivent être rapides.</p>
<p>La taille du message est également validée contre <code>max.request.size</code>. Un message trop grand est rejeté immédiatement avec une <code>RecordTooLargeException</code>.</p>
<p><strong>Étape 4 : Accumulation.</strong> Le message sérialisé est ajouté au batch courant de la partition cible dans le RecordAccumulator. Si le batch courant est plein, un nouveau batch est créé. Si la mémoire du buffer pool est épuisée, l'appel peut bloquer (jusqu'à <code>max.block.ms</code>) ou échouer.</p>
<p>L'accumulation retourne un <code>Future&lt;RecordMetadata&gt;</code> et un <code>FutureRecordMetadata</code> interne qui sera complété quand la réponse du broker arrivera. Le callback fourni à <code>send()</code> est attaché à ce future.</p>
<p><strong>Étape 5 : Envoi.</strong> Le thread sender surveille les batches prêts à être envoyés. Un batch est considéré prêt si sa taille atteint <code>batch.size</code>, ou si son temps d'attente dépasse <code>linger.ms</code>, ou si la mémoire est sous pression. Le sender regroupe les batches par broker leader et envoie des requêtes de production.</p>
<p>Le sender maintient des connexions persistantes vers les brokers. La configuration <code>connections.max.idle.ms</code> contrôle la fermeture des connexions inactives. Des connexions qui se ferment et se rouvrent fréquemment peuvent indiquer un problème de configuration ou de réseau.</p>
<p><strong>Étape 6 : Confirmation et callback.</strong> Le broker traite la requête, écrit les messages sur disque, et répond selon la configuration <code>acks</code>. Le sender reçoit la réponse et invoque les callbacks associés aux messages (succès ou erreur). En cas d'erreur retriable, le batch peut être renvoyé.</p>
<p>Les callbacks sont exécutés dans le thread sender. Un callback lent bloque le traitement des autres réponses. Pour un traitement asynchrone lourd, le callback devrait déléguer à un thread pool séparé.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────────┐
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>│                        Application Thread                           │
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>│  ┌──────────┐    ┌──────────────┐    ┌─────────────────────────┐   │
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>│  │  send()  │───▶│ Serializers  │───▶│     Partitioner         │   │
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>│  └──────────┘    └──────────────┘    └───────────┬─────────────┘   │
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>└──────────────────────────────────────────────────┼──────────────────┘
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>                                                   │
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>                                                   ▼
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>┌─────────────────────────────────────────────────────────────────────┐
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>│                       RecordAccumulator                             │
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>│  ┌─────────────────────────────────────────────────────────────┐   │
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>│  │  Partition 0: [Batch 1] [Batch 2] ...                       │   │
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>│  │  Partition 1: [Batch 1] ...                                 │   │
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>│  │  Partition 2: [Batch 1] [Batch 2] [Batch 3] ...             │   │
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>│  └─────────────────────────────────────────────────────────────┘   │
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>└──────────────────────────────────────────────────┬──────────────────┘
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>                                                   │
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>                                                   ▼
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>┌─────────────────────────────────────────────────────────────────────┐
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>│                         Sender Thread                               │
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>│  ┌──────────────┐    ┌─────────────┐    ┌────────────────────┐     │
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>│  │ Batch Ready? │───▶│ Group by    │───▶│  Send to Brokers   │     │
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>│  │              │    │ Broker      │    │                    │     │
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>│  └──────────────┘    └─────────────┘    └─────────┬──────────┘     │
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>└───────────────────────────────────────────────────┼─────────────────┘
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>                                                    │
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>                                                    ▼
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>┌─────────────────────────────────────────────────────────────────────┐
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>│                         Kafka Brokers                               │
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>│                    (Receive, Write, Respond)                        │
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>└─────────────────────────────────────────────────────────────────────┘
</code></pre></div>
<h3 id="configuration-fondamentale">Configuration Fondamentale<a class="headerlink" href="#configuration-fondamentale" title="Permanent link">&para;</a></h3>
<p>Les paramètres de configuration du producteur contrôlent chaque aspect de son comportement. L'architecte doit comprendre les paramètres clés et leurs interactions.</p>
<p><strong><code>bootstrap.servers</code></strong> : Liste des brokers pour la découverte initiale du cluster. Le producteur contacte ces brokers pour obtenir les métadonnées du cluster (liste complète des brokers, leaders des partitions). Il n'est pas nécessaire de lister tous les brokers — quelques-uns suffisent pour la découverte.</p>
<p><strong><code>key.serializer</code> et <code>value.serializer</code></strong> : Classes responsables de la conversion des objets en octets. Les sérialiseurs standards incluent <code>StringSerializer</code>, <code>ByteArraySerializer</code>, <code>IntegerSerializer</code>. Pour les formats complexes (Avro, Protobuf), des sérialiseurs spécifiques sont nécessaires.</p>
<p><strong><code>acks</code></strong> : Niveau de confirmation attendu du broker. Cette configuration est cruciale pour le compromis durabilité/performance et sera détaillée dans la section suivante.</p>
<p><strong><code>buffer.memory</code></strong> (défaut 32 Mo) : Mémoire totale disponible pour l'accumulation des messages. Si cette mémoire est épuisée, les appels <code>send()</code> bloquent.</p>
<p><strong><code>batch.size</code></strong> (défaut 16 Ko) : Taille cible d'un batch en octets. Des batches plus grands améliorent le débit mais augmentent la latence.</p>
<p><strong><code>linger.ms</code></strong> (défaut 0) : Temps d'attente avant d'envoyer un batch incomplet. Une valeur de 0 signifie envoi immédiat ; une valeur plus haute permet plus de batching.</p>
<p><strong><code>compression.type</code></strong> (défaut none) : Algorithme de compression (none, gzip, snappy, lz4, zstd).</p>
<p><strong><code>retries</code></strong> (défaut 2147483647 en Kafka 2.1+) : Nombre de tentatives en cas d'erreur retriable.</p>
<p><strong><code>max.in.flight.requests.per.connection</code></strong> (défaut 5) : Nombre maximal de requêtes non confirmées par connexion. Impacte l'ordre des messages en cas de retry.</p>
<blockquote>
<p><strong>Note de terrain</strong></p>
<p><em>Contexte</em> : Déploiement initial d'un producteur Kafka avec configuration par défaut.</p>
<p><em>Observation</em> : Latence de production très variable — certains messages sont confirmés en 2ms, d'autres en 200ms.</p>
<p><em>Diagnostic</em> : Avec <code>linger.ms=0</code> (défaut), chaque message est envoyé dès qu'il est prêt, sans attendre de former un batch. Les messages arrivant seuls subissent le coût complet d'un aller-retour réseau. Les messages arrivant en rafale bénéficient du batching naturel.</p>
<p><em>Solution</em> : Configuration <code>linger.ms=5</code> pour permettre l'accumulation de messages pendant 5ms avant envoi. La latence maximale augmente de 5ms mais devient prévisible, et le débit global s'améliore significativement grâce au batching.</p>
<p><em>Leçon</em> : Les valeurs par défaut sont conservatrices. L'ajustement de <code>linger.ms</code> et <code>batch.size</code> est souvent le premier levier d'optimisation.</p>
</blockquote>
<h3 id="gestion-asynchrone-et-callbacks">Gestion Asynchrone et Callbacks<a class="headerlink" href="#gestion-asynchrone-et-callbacks" title="Permanent link">&para;</a></h3>
<p>L'API de production Kafka est fondamentalement asynchrone. L'appel <code>send()</code> retourne immédiatement un <code>Future&lt;RecordMetadata&gt;</code> sans attendre la confirmation du broker. Cette conception permet un débit élevé mais requiert une gestion appropriée des résultats.</p>
<p><strong>Mode fire-and-forget.</strong> L'application appelle <code>send()</code> et ignore le résultat. Simple mais dangereux — les erreurs passent inaperçues. Ce mode n'est acceptable que pour les données non critiques (métriques, logs) où la perte occasionnelle est tolérable.</p>
<p><strong>Mode synchrone.</strong> L'application appelle <code>send().get()</code> pour bloquer jusqu'à la confirmation. Garantit la détection des erreurs mais limite sévèrement le débit (une seule requête en vol à la fois). Utile pour les tests ou les cas très critiques où le débit n'est pas une préoccupation.</p>
<p><strong>Mode asynchrone avec callback.</strong> L'application fournit un callback qui sera invoqué à la réception de la réponse. C'est le mode recommandé — il combine le débit élevé de l'asynchrone avec la gestion des erreurs.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span><span class="w"> </span><span class="n">exception</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">exception</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">        </span><span class="c1">// Gestion de l&#39;erreur : log, retry applicatif, alerte</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Échec de production&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">exception</span><span class="p">);</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">        </span><span class="n">errorHandler</span><span class="p">.</span><span class="na">handle</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="w"> </span><span class="n">exception</span><span class="p">);</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">        </span><span class="c1">// Succès : le message est persisté</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Message envoyé à partition {} offset {}&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">                     </span><span class="n">metadata</span><span class="p">.</span><span class="na">partition</span><span class="p">(),</span><span class="w"> </span><span class="n">metadata</span><span class="p">.</span><span class="na">offset</span><span class="p">());</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="p">});</span>
</code></pre></div>
<p><strong>Considérations sur les callbacks.</strong> Les callbacks sont exécutés dans le thread sender, pas dans le thread applicatif. Un callback lent bloque l'envoi des autres messages. Les callbacks doivent être rapides et non-bloquants — si un traitement lourd est nécessaire, le déléguer à un autre thread ou une file.</p>
<h3 id="intercepteurs-de-production">Intercepteurs de Production<a class="headerlink" href="#intercepteurs-de-production" title="Permanent link">&para;</a></h3>
<p>Les <strong>intercepteurs</strong> permettent d'injecter une logique transversale dans le cycle de production sans modifier le code applicatif. Ils sont configurés via <code>interceptor.classes</code> et implémentent l'interface <code>ProducerInterceptor</code>.</p>
<p><strong>Cas d'usage des intercepteurs :</strong></p>
<p><em>Traçage distribué.</em> Ajouter automatiquement des headers de corrélation (trace ID, span ID) à chaque message pour permettre le suivi de bout en bout dans un système distribué.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TracingInterceptor</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ProducerInterceptor</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ProducerRecord</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">onSend</span><span class="p">(</span><span class="n">ProducerRecord</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">record</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">traceId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TraceContext</span><span class="p">.</span><span class="na">current</span><span class="p">().</span><span class="na">traceId</span><span class="p">();</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">        </span><span class="kd">record</span><span class="err">.</span><span class="nc">headers</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;X-Trace-Id&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">traceId</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">record</span><span class="p">;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onAcknowledgement</span><span class="p">(</span><span class="n">RecordMetadata</span><span class="w"> </span><span class="n">metadata</span><span class="p">,</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="n">exception</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">        </span><span class="c1">// Log ou métriques</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="p">}</span>
</code></pre></div>
<p><em>Métriques applicatives.</em> Collecter des métriques personnalisées sur les messages produits : compteurs par type de message, histogrammes de taille, etc.</p>
<p><em>Validation.</em> Valider les messages avant envoi (bien que la validation soit généralement mieux placée au niveau applicatif).</p>
<p><em>Chiffrement.</em> Chiffrer le contenu des messages au niveau applicatif avant envoi (pour un chiffrement de bout en bout, au-delà du TLS transport).</p>
<p><strong>Chaîne d'intercepteurs.</strong> Plusieurs intercepteurs peuvent être configurés et s'exécutent dans l'ordre de configuration. Chaque intercepteur reçoit le record potentiellement modifié par l'intercepteur précédent.</p>
<p><strong>Précautions.</strong> Les intercepteurs s'exécutent dans le chemin critique de la production. Un intercepteur lent ou qui lève une exception impacte tous les messages. Les intercepteurs doivent être robustes, rapides, et gérer leurs propres erreurs sans les propager.</p>
<h3 id="utilisation-des-headers">Utilisation des Headers<a class="headerlink" href="#utilisation-des-headers" title="Permanent link">&para;</a></h3>
<p>Les <strong>headers</strong> Kafka permettent d'attacher des métadonnées aux messages sans modifier la valeur du message. Introduits dans Kafka 0.11, ils sont devenus essentiels pour les patterns modernes.</p>
<p><strong>Cas d'usage des headers :</strong></p>
<p><em>Métadonnées de routage.</em> Indiquer le type de message, la version du schéma, la source du message.</p>
<p><em>Traçage.</em> Propager les identifiants de corrélation pour le traçage distribué.</p>
<p><em>Timestamps applicatifs.</em> Ajouter des timestamps métier distincts du timestamp Kafka.</p>
<p><em>Informations de sécurité.</em> Propager l'identité de l'émetteur, les claims JWT, les signatures.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">ProducerRecord</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProducerRecord</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;orders&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kd">record</span><span class="err">.</span><span class="nc">headers</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;X-Message-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;OrderCreated&quot;</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kd">record</span><span class="err">.</span><span class="nc">headers</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;X-Schema-Version&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="kd">record</span><span class="err">.</span><span class="nc">headers</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;X-Source-System&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;checkout-service&quot;</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="kd">record</span><span class="err">.</span><span class="nc">headers</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;X-Correlation-Id&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">correlationId</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="n">record</span><span class="p">);</span>
</code></pre></div>
<p><strong>Bonnes pratiques pour les headers :</strong></p>
<ul>
<li>Préfixer les headers personnalisés (ex: <code>X-</code> ou un namespace d'organisation) pour éviter les conflits.</li>
<li>Garder les headers légers — ils sont inclus dans chaque message et consomment de l'espace.</li>
<li>Documenter les headers attendus dans le contrat du topic.</li>
<li>Les headers ne participent pas au partitionnement — seule la clé détermine la partition.</li>
</ul>
<hr />
<h2 id="iii32-garanties-fondamentales-de-production">III.3.2 Garanties Fondamentales de Production<a class="headerlink" href="#iii32-garanties-fondamentales-de-production" title="Permanent link">&para;</a></h2>
<h3 id="le-spectre-des-garanties-de-livraison">Le Spectre des Garanties de Livraison<a class="headerlink" href="#le-spectre-des-garanties-de-livraison" title="Permanent link">&para;</a></h3>
<p>Les systèmes de messagerie offrent traditionnellement trois niveaux de garanties de livraison. Comprendre ces garanties et comment Kafka les implémente est essentiel pour concevoir des systèmes fiables.</p>
<p><strong>At-most-once (au plus une fois).</strong> Chaque message est livré zéro ou une fois. La perte de messages est possible, mais les duplications sont impossibles. C'est la garantie la plus faible, obtenue quand le producteur n'attend pas de confirmation (<code>acks=0</code>) ou quand il ne réessaie pas après une erreur.</p>
<p><strong>At-least-once (au moins une fois).</strong> Chaque message est livré une ou plusieurs fois. La perte de messages est évitée, mais des duplications sont possibles. C'est la garantie par défaut de Kafka avec <code>acks=1</code> ou <code>acks=all</code> et les retries activés. Si un message est envoyé mais que la confirmation est perdue, le retry créera un duplicata.</p>
<p><strong>Exactly-once (exactement une fois).</strong> Chaque message est livré exactement une fois. Ni perte ni duplication. C'est la garantie la plus forte, disponible dans Kafka via les producteurs idempotents et les transactions.</p>
<blockquote>
<p><strong>Définition formelle</strong></p>
<p>La garantie de livraison <strong>exactly-once</strong> dans Kafka est implémentée par deux mécanismes complémentaires :
1. <strong>L'idempotence du producteur</strong> : Le broker détecte et élimine les duplicatas causés par les retries du producteur.
2. <strong>Les transactions</strong> : Un ensemble de messages peut être écrit atomiquement sur plusieurs partitions, avec garantie de tout-ou-rien.</p>
</blockquote>
<h3 id="configuration-acks-le-compromis-fondamental">Configuration <code>acks</code> : Le Compromis Fondamental<a class="headerlink" href="#configuration-acks-le-compromis-fondamental" title="Permanent link">&para;</a></h3>
<p>Le paramètre <code>acks</code> du producteur détermine le niveau de confirmation attendu avant de considérer un message comme « envoyé avec succès ». Ce paramètre est le levier principal du compromis durabilité/latence/débit.</p>
<p><strong><code>acks=0</code> : Fire-and-forget total.</strong> Le producteur n'attend aucune confirmation. Dès que le message est envoyé sur le réseau, il est considéré comme réussi. Le producteur ne sait pas si le broker a reçu le message, encore moins s'il l'a persisté.</p>
<p><em>Avantages</em> : Latence minimale, débit maximal.
<em>Inconvénients</em> : Perte de messages invisible, aucune garantie de durabilité.
<em>Cas d'usage</em> : Métriques haute fréquence où la perte occasionnelle est acceptable.</p>
<p><strong><code>acks=1</code> : Confirmation du leader.</strong> Le producteur attend que le leader de la partition confirme l'écriture. Le message est persisté sur le disque du leader (ou au moins dans son buffer d'écriture).</p>
<p><em>Avantages</em> : Bon compromis latence/durabilité pour la majorité des cas.
<em>Inconvénients</em> : Si le leader crashe avant réplication, les messages confirmés peuvent être perdus.
<em>Cas d'usage</em> : La plupart des applications de production.</p>
<p><strong><code>acks=all</code> (ou <code>acks=-1</code>) : Confirmation de tous les ISR.</strong> Le producteur attend que tous les réplicas in-sync (ISR) confirment l'écriture. Le message est répliqué sur tous les réplicas synchronisés avant confirmation.</p>
<p><em>Avantages</em> : Durabilité maximale, survie à la perte du leader.
<em>Inconvénients</em> : Latence plus élevée (attente de la réplication), débit potentiellement réduit.
<em>Cas d'usage</em> : Données critiques (transactions financières, événements d'audit).</p>
<table>
<thead>
<tr>
<th>Configuration</th>
<th>Durabilité</th>
<th>Latence</th>
<th>Débit</th>
<th>Cas d'usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>acks=0</code></td>
<td>Aucune</td>
<td>~0ms</td>
<td>Maximal</td>
<td>Métriques non critiques</td>
</tr>
<tr>
<td><code>acks=1</code></td>
<td>Leader seul</td>
<td>~2-10ms</td>
<td>Élevé</td>
<td>Majorité des cas</td>
</tr>
<tr>
<td><code>acks=all</code></td>
<td>Tous les ISR</td>
<td>~10-50ms</td>
<td>Modéré</td>
<td>Données critiques</td>
</tr>
</tbody>
</table>
<h3 id="idempotence-du-producteur">Idempotence du Producteur<a class="headerlink" href="#idempotence-du-producteur" title="Permanent link">&para;</a></h3>
<p>L'<strong>idempotence</strong> garantit que les retries du producteur ne créent pas de duplicatas. Un producteur idempotent peut réessayer l'envoi d'un message sans risquer de le dupliquer côté broker.</p>
<p><strong>Mécanisme.</strong> Chaque producteur idempotent reçoit un identifiant unique (Producer ID ou PID) lors de son initialisation. Chaque message envoyé inclut un numéro de séquence par partition. Le broker maintient un état par PID+partition et rejette les messages avec un numéro de séquence déjà vu.</p>
<p><strong>Activation.</strong> L'idempotence est activée par <code>enable.idempotence=true</code>. À partir de Kafka 3.0, elle est activée par défaut. L'idempotence requiert <code>acks=all</code>, <code>retries &gt; 0</code>, et <code>max.in.flight.requests.per.connection ≤ 5</code>. Si ces conditions ne sont pas remplies et que l'idempotence est explicitement demandée, une exception est levée.</p>
<p><strong>Portée.</strong> L'idempotence est garantie par session producteur. Si le producteur redémarre (nouveau PID), les garanties ne s'appliquent pas aux messages de la session précédente. Pour une idempotence cross-session, les transactions sont nécessaires.</p>
<blockquote>
<p><strong>Exemple concret</strong></p>
<p><em>Scénario</em> : Un producteur envoie le message M1 avec séquence 42 vers la partition P0. Le broker reçoit et persiste M1. La confirmation est perdue sur le réseau.</p>
<p><em>Sans idempotence</em> : Le producteur réessaie. Le broker reçoit à nouveau M1 et le persiste — M1 existe maintenant en double dans P0.</p>
<p><em>Avec idempotence</em> : Le producteur réessaie avec le même PID et séquence 42. Le broker détecte que la séquence 42 a déjà été traitée pour ce PID et cette partition. Il retourne une confirmation sans dupliquer le message.</p>
</blockquote>
<h3 id="transactions-kafka">Transactions Kafka<a class="headerlink" href="#transactions-kafka" title="Permanent link">&para;</a></h3>
<p>Les <strong>transactions</strong> étendent l'idempotence pour permettre l'écriture atomique de messages sur plusieurs partitions. Un ensemble de messages est soit entièrement visible, soit entièrement invisible pour les consommateurs.</p>
<p><strong>Cas d'usage principal : exactly-once stream processing.</strong> Dans un pipeline de traitement de flux, une application lit des messages d'un topic source, les transforme, et écrit les résultats vers un topic destination. Avec les transactions, la lecture, la transformation et l'écriture peuvent être atomiques — si l'application crashe au milieu, soit tout est validé, soit rien ne l'est.</p>
<p><strong>Architecture transactionnelle.</strong> Le producteur transactionnel interagit avec un coordinateur de transactions hébergé sur l'un des brokers. Ce coordinateur maintient l'état des transactions dans un topic interne (<code>__transaction_state</code>). Le flux typique est :</p>
<ol>
<li>Le producteur s'initialise avec <code>initTransactions()</code>, récupérant ou créant un epoch pour son <code>transactional.id</code>.</li>
<li><code>beginTransaction()</code> démarre une nouvelle transaction.</li>
<li>Les appels <code>send()</code> envoient les messages mais ils ne sont pas encore visibles pour les consommateurs <code>read_committed</code>.</li>
<li><code>sendOffsetsToTransaction()</code> enregistre les offsets consommés comme partie de la transaction.</li>
<li><code>commitTransaction()</code> finalise la transaction — tous les messages deviennent visibles atomiquement.</li>
<li>En cas d'erreur, <code>abortTransaction()</code> annule tous les messages de la transaction.</li>
</ol>
<p><strong>Activation.</strong> Les transactions sont activées par <code>transactional.id</code>, un identifiant stable qui survit aux redémarrages du producteur. Le producteur doit appeler <code>initTransactions()</code> au démarrage, puis utiliser <code>beginTransaction()</code>, <code>send()</code>, <code>sendOffsetsToTransaction()</code> (pour commiter les offsets consommés), et <code>commitTransaction()</code> ou <code>abortTransaction()</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">Properties</span><span class="w"> </span><span class="n">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Properties</span><span class="p">();</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">props</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;transactional.id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;order-processor-1&quot;</span><span class="p">);</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">props</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;enable.idempotence&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">);</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">// ... autres configs</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">KafkaProducer</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">producer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KafkaProducer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">props</span><span class="p">);</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">producer</span><span class="p">.</span><span class="na">initTransactions</span><span class="p">();</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span><span class="n">producer</span><span class="p">.</span><span class="na">beginTransaction</span><span class="p">();</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="c1">// Envoyer plusieurs messages atomiquement</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">    </span><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ProducerRecord</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;orders-processed&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key1</span><span class="p">,</span><span class="w"> </span><span class="n">value1</span><span class="p">));</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">    </span><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ProducerRecord</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;notifications&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key2</span><span class="p">,</span><span class="w"> </span><span class="n">value2</span><span class="p">));</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span><span class="c1">// Commiter les offsets consommés dans la même transaction</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">    </span><span class="n">producer</span><span class="p">.</span><span class="na">sendOffsetsToTransaction</span><span class="p">(</span><span class="n">offsets</span><span class="p">,</span><span class="w"> </span><span class="n">consumerGroupId</span><span class="p">);</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">    </span><span class="n">producer</span><span class="p">.</span><span class="na">commitTransaction</span><span class="p">();</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">    </span><span class="n">producer</span><span class="p">.</span><span class="na">abortTransaction</span><span class="p">();</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Isolation côté consommateur.</strong> Par défaut (<code>isolation.level=read_uncommitted</code>), les consommateurs voient tous les messages, y compris ceux de transactions non encore commitées. Avec <code>isolation.level=read_committed</code>, les consommateurs ne voient que les messages de transactions commitées. Les messages de transactions en cours ou abandonnées sont filtrés.</p>
<p><strong>Gestion des epochs.</strong> Chaque <code>transactional.id</code> a un epoch (compteur) qui s'incrémente à chaque appel <code>initTransactions()</code>. Si deux producteurs utilisent le même <code>transactional.id</code>, le second « fence » le premier — les messages du premier sont rejetés. Ce mécanisme évite les duplicatas en cas de redémarrage.</p>
<p><strong>Overhead et limites.</strong> Les transactions ajoutent une latence (coordination avec le transaction coordinator, écriture dans <code>__transaction_state</code>) et une complexité. Le timeout de transaction (<code>transaction.timeout.ms</code>, défaut 60 secondes) limite la durée d'une transaction. Les transactions très longues (nombreux messages) peuvent impacter les performances.</p>
<p><strong>Bonnes pratiques transactionnelles :</strong></p>
<ul>
<li>Utiliser des <code>transactional.id</code> stables et uniques par instance logique de producteur.</li>
<li>Garder les transactions courtes — quelques secondes maximum.</li>
<li>Grouper les messages liés dans une même transaction plutôt que de faire une transaction par message.</li>
<li>Monitorer les métriques transactionnelles : durée des transactions, taux d'abort, lag du coordinateur.</li>
</ul>
<blockquote>
<p><strong>Décision architecturale</strong></p>
<p><em>Contexte</em> : Application de traitement d'événements de paiement. Chaque paiement doit être traité exactement une fois.</p>
<p><em>Options</em> :
1. Producteur idempotent + consommateurs idempotents : Simple, suffit si les consommateurs gèrent leurs propres duplicatas.
2. Transactions Kafka : Garantie exactly-once de bout en bout, mais complexité accrue.</p>
<p><em>Analyse</em> : Les paiements sont critiques. Un duplicata pourrait signifier un double prélèvement. Les consommateurs en aval sont multiples et difficiles à coordonner pour l'idempotence.</p>
<p><em>Décision</em> : Transactions Kafka avec <code>isolation.level=read_committed</code> côté consommateurs. L'overhead de latence (~20-50ms par transaction) est acceptable pour des paiements.</p>
<p><em>Alternative considérée</em> : Pour les cas où la latence transactionnelle est prohibitive, implémenter l'idempotence applicative (stockage des IDs traités, déduplication) peut être préférable.</p>
</blockquote>
<h3 id="gestion-des-erreurs-et-retry">Gestion des Erreurs et Retry<a class="headerlink" href="#gestion-des-erreurs-et-retry" title="Permanent link">&para;</a></h3>
<p>Le producteur Kafka distingue deux catégories d'erreurs : les erreurs retriables et les erreurs non retriables.</p>
<p><strong>Erreurs retriables.</strong> Ces erreurs sont potentiellement temporaires et justifient un retry automatique. Exemples : <code>NetworkException</code> (problème réseau temporaire), <code>NotLeaderForPartitionException</code> (le leader a changé, les métadonnées doivent être rafraîchies), <code>RequestTimedOutException</code> (timeout, le broker est peut-être surchargé).</p>
<p><strong>Erreurs non retriables.</strong> Ces erreurs indiquent un problème fondamental que le retry ne résoudra pas. Exemples : <code>SerializationException</code> (le message ne peut pas être sérialisé), <code>RecordTooLargeException</code> (le message dépasse la limite de taille), <code>InvalidTopicException</code> (le topic n'existe pas ou est invalide).</p>
<p><strong>Configuration des retries.</strong> Le paramètre <code>retries</code> définit le nombre maximal de tentatives (défaut : MAX_INT en Kafka 2.1+, essentiellement infini). Le paramètre <code>retry.backoff.ms</code> (défaut 100ms) définit le délai entre les tentatives. Le paramètre <code>delivery.timeout.ms</code> (défaut 120000ms = 2 minutes) définit le temps total maximum pour la livraison d'un message, incluant les retries.</p>
<p><strong>Impact sur l'ordre.</strong> Les retries peuvent impacter l'ordre des messages. Si le batch B1 échoue et est réessayé pendant que B2 est envoyé avec succès, B2 peut être persisté avant B1. Pour préserver l'ordre strict avec retries, configurer <code>max.in.flight.requests.per.connection=1</code> (une seule requête en vol à la fois). L'idempotence (Kafka 2.4+) préserve l'ordre même avec jusqu'à 5 requêtes en vol.</p>
<blockquote>
<p><strong>Anti-patron</strong></p>
<p><em>« Nous désactivons les retries pour garantir l'ordre des messages. »</em> Cette approche sacrifie la fiabilité (perte de messages sur erreur temporaire) pour préserver l'ordre. Elle est rarement justifiée.</p>
<p><em>Meilleure approche</em> : Activer l'idempotence (<code>enable.idempotence=true</code>) qui garantit à la fois l'absence de duplicatas et la préservation de l'ordre avec jusqu'à 5 requêtes en vol. Si l'idempotence n'est pas disponible, <code>max.in.flight.requests.per.connection=1</code> préserve l'ordre avec un impact sur le débit.</p>
</blockquote>
<hr />
<h2 id="iii33-strategies-de-partitionnement-et-ordonnancement">III.3.3 Stratégies de Partitionnement et Ordonnancement<a class="headerlink" href="#iii33-strategies-de-partitionnement-et-ordonnancement" title="Permanent link">&para;</a></h2>
<h3 id="le-partitionnement-comme-decision-architecturale">Le Partitionnement comme Décision Architecturale<a class="headerlink" href="#le-partitionnement-comme-decision-architecturale" title="Permanent link">&para;</a></h3>
<p>Le choix de la stratégie de partitionnement est l'une des décisions architecturales les plus importantes lors de la conception d'un système Kafka. Ce choix détermine les garanties d'ordre, la distribution de charge, et le parallélisme de traitement possible.</p>
<p>Le partitionnement répond à deux objectifs potentiellement contradictoires. D'un côté, la <strong>localité</strong> : les messages qui doivent être traités ensemble ou dans un ordre spécifique doivent aller vers la même partition. De l'autre, la <strong>distribution</strong> : la charge doit être répartie équitablement entre les partitions pour éviter les goulots d'étranglement.</p>
<h3 id="strategies-de-partitionnement-integrees">Stratégies de Partitionnement Intégrées<a class="headerlink" href="#strategies-de-partitionnement-integrees" title="Permanent link">&para;</a></h3>
<p><strong>Partitionnement par clé (DefaultPartitioner avec clé).</strong> Quand une clé non nulle est fournie, Kafka calcule <code>murmur2(key) % numPartitions</code>. Tous les messages avec la même clé vont vers la même partition, garantissant leur ordre relatif.</p>
<p>Cette stratégie est appropriée quand il existe une clé métier naturelle (ID client, ID commande, ID compte) et que l'ordre des messages pour cette clé est important. La distribution dépend de la distribution des clés — des clés uniformément distribuées donnent une charge équilibrée.</p>
<p><strong>Sticky Partitioning (DefaultPartitioner sans clé, Kafka 2.4+).</strong> Sans clé, le partitionneur « colle » à une partition pendant un certain temps ou jusqu'à ce qu'un batch soit complet, puis passe à une autre partition. Cette approche améliore le batching par rapport au round-robin pur.</p>
<p>Cette stratégie est appropriée quand l'ordre entre messages n'a pas d'importance et que le débit est la priorité. Les messages sont distribués équitablement à long terme.</p>
<p><strong>Round-Robin (RoundRobinPartitioner).</strong> Distribue les messages strictement en round-robin entre les partitions. Chaque message va vers la partition suivante dans la séquence.</p>
<p>Cette stratégie garantit une distribution parfaitement équitable mais peut réduire l'efficacité du batching car les messages consécutifs vont vers des partitions différentes.</p>
<p><strong>Partition explicite.</strong> L'application peut spécifier explicitement la partition dans l'appel <code>send()</code>. Cette approche donne un contrôle total mais couple l'application à la topologie du topic.</p>
<h3 id="implementation-dun-partitionneur-personnalise">Implémentation d'un Partitionneur Personnalisé<a class="headerlink" href="#implementation-dun-partitionneur-personnalise" title="Permanent link">&para;</a></h3>
<p>Pour des besoins spécifiques, une application peut implémenter l'interface <code>Partitioner</code>. Un partitionneur personnalisé peut implémenter une logique métier arbitraire.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GeoPartitioner</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Partitioner</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">partition</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">topic</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">keyBytes</span><span class="p">,</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">                        </span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">valueBytes</span><span class="p">,</span><span class="w"> </span><span class="n">Cluster</span><span class="w"> </span><span class="n">cluster</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">        </span><span class="c1">// Extraction de la région depuis la clé (ex: &quot;EU-customer123&quot;)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">extractRegion</span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">        </span><span class="c1">// Mapping région -&gt; plage de partitions</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">numPartitions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cluster</span><span class="p">.</span><span class="na">partitionCountForTopic</span><span class="p">(</span><span class="n">topic</span><span class="p">);</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">regionToPartitionRange</span><span class="p">(</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">numPartitions</span><span class="p">);</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">extractRegion</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">key</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">)</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// Simplifié</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">regionToPartitionRange</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numPartitions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">        </span><span class="c1">// EU -&gt; partitions 0-3, US -&gt; partitions 4-7, APAC -&gt; partitions 8-11</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="w">        </span><span class="k">switch</span><span class="p">(</span><span class="n">region</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="s">&quot;EU&quot;</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ThreadLocalRandom</span><span class="p">.</span><span class="na">current</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="s">&quot;US&quot;</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ThreadLocalRandom</span><span class="p">.</span><span class="na">current</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="s">&quot;APAC&quot;</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ThreadLocalRandom</span><span class="p">.</span><span class="na">current</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">);</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="w">            </span><span class="k">default</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ThreadLocalRandom</span><span class="p">.</span><span class="na">current</span><span class="p">().</span><span class="na">nextInt</span><span class="p">(</span><span class="n">numPartitions</span><span class="p">);</span>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Cas d'usage des partitionneurs personnalisés :</strong></p>
<p><em>Routage géographique</em> : Diriger les messages vers des partitions proches des consommateurs concernés pour réduire la latence.</p>
<p><em>Équilibrage de charge intelligent</em> : Prendre en compte la charge actuelle des partitions pour éviter les hot spots.</p>
<p><em>Isolation par tenant</em> : Dans un système multi-tenant, isoler les données de chaque tenant dans des partitions spécifiques.</p>
<p><em>Priorités</em> : Kafka ne supporte pas les priorités natives, mais un partitionneur peut diriger les messages haute priorité vers des partitions dédiées avec des consommateurs plus nombreux.</p>
<blockquote>
<p><strong>Note de terrain</strong></p>
<p><em>Contexte</em> : Système de e-commerce avec un topic <code>orders</code> partitionné par <code>customer_id</code>. Pendant le Black Friday, quelques gros clients génèrent 30% du trafic, créant des « hot partitions ».</p>
<p><em>Problème</em> : Le consumer lag sur ces partitions explose pendant que d'autres partitions sont sous-utilisées.</p>
<p><em>Solution initiale envisagée</em> : Partitionneur personnalisé qui distribue les commandes des « gros clients » sur plusieurs partitions.</p>
<p><em>Problème de la solution</em> : Perte de l'ordre des commandes par client, ce qui peut causer des incohérences (annulation avant création).</p>
<p><em>Solution retenue</em> : Accepter le déséquilibre et dimensionner les consommateurs pour le pire cas. Ajouter du monitoring pour alerter sur les hot partitions. Documenter la contrainte métier qui justifie ce choix.</p>
<p><em>Leçon</em> : Le partitionnement est souvent un compromis entre l'ordre (invariants métier) et la distribution (performance). Les invariants métier doivent généralement primer.</p>
</blockquote>
<h3 id="preservation-de-lordre">Préservation de l'Ordre<a class="headerlink" href="#preservation-de-lordre" title="Permanent link">&para;</a></h3>
<p>L'ordre des messages est garanti uniquement au sein d'une partition. Pour les applications où l'ordre global ou inter-entité est critique, plusieurs stratégies sont possibles.</p>
<p><strong>Partition unique.</strong> Le cas le plus simple : tous les messages vont vers une seule partition. L'ordre global est garanti, mais le parallélisme est impossible (un seul consommateur actif). Cette approche convient uniquement aux très faibles volumes.</p>
<p><strong>Clé de partitionnement basée sur l'entité.</strong> Tous les messages concernant la même entité (client, commande, compte) partagent la même clé et donc la même partition. L'ordre est garanti par entité, et le parallélisme est possible entre entités. C'est l'approche la plus courante et recommandée.</p>
<p><strong>Numéro de séquence applicatif.</strong> L'application inclut un numéro de séquence dans chaque message. Les consommateurs peuvent réordonner les messages si nécessaire. Cette approche est complexe et rarement recommandée car elle déplace la complexité vers les consommateurs.</p>
<p><strong>Timestamps et fenêtrage.</strong> Pour certains cas d'usage (analytique, agrégation), l'ordre strict n'est pas nécessaire si les messages arrivent dans une fenêtre temporelle acceptable. Le stream processing avec fenêtrage peut gérer le désordre borné.</p>
<p><strong>Garanties d'ordre avec retries.</strong> Les retries peuvent perturber l'ordre si <code>max.in.flight.requests.per.connection</code> &gt; 1. Par exemple, si le batch B1 échoue et est réessayé pendant que B2 est envoyé avec succès, B2 peut être persisté avant B1.</p>
<p>Pour préserver l'ordre strict avec retries :
- Activer l'idempotence (<code>enable.idempotence=true</code>) — préserve l'ordre avec jusqu'à 5 requêtes en vol.
- Ou configurer <code>max.in.flight.requests.per.connection=1</code> — une seule requête en vol, ordre garanti mais débit réduit.</p>
<blockquote>
<p><strong>Note de terrain</strong></p>
<p><em>Contexte</em> : Application de gestion de comptes bancaires où l'ordre des opérations est critique (le solde doit être cohérent).</p>
<p><em>Exigence</em> : Les opérations sur un même compte doivent être traitées dans l'ordre de soumission.</p>
<p><em>Solution</em> : Clé de partitionnement = numéro de compte. Idempotence activée. <code>max.in.flight.requests.per.connection=5</code> (acceptable avec idempotence).</p>
<p><em>Validation</em> : Tests de charge avec simulation de pannes réseau pour vérifier que l'ordre est préservé même avec retries.</p>
<p><em>Résultat</em> : L'ordre par compte est garanti. Le parallélisme entre comptes permet un débit suffisant.</p>
</blockquote>
<h3 id="impact-du-nombre-de-partitions-sur-le-partitionnement">Impact du Nombre de Partitions sur le Partitionnement<a class="headerlink" href="#impact-du-nombre-de-partitions-sur-le-partitionnement" title="Permanent link">&para;</a></h3>
<p>Le nombre de partitions d'un topic influence le comportement du partitionnement et doit être considéré lors de la conception.</p>
<p><strong>Stabilité du mapping.</strong> Le mapping clé → partition dépend du nombre de partitions (<code>hash(key) % numPartitions</code>). Si le nombre de partitions change, le mapping change pour certaines clés. Les messages avec ces clés iront vers de nouvelles partitions, potentiellement en désordre avec les messages précédents.</p>
<p>Par exemple, avec 10 partitions, la clé « customer-123 » pourrait aller vers la partition 7. Si on augmente à 15 partitions, la même clé pourrait maintenant aller vers la partition 12. Les nouveaux messages de ce client seront dans la partition 12, mais les anciens messages sont toujours dans la partition 7.</p>
<p><strong>Granularité de la distribution.</strong> Avec peu de partitions, la distribution peut être déséquilibrée si certaines clés sont plus fréquentes. Plus de partitions permettent une distribution plus fine, mais au prix d'une complexité opérationnelle accrue.</p>
<p><strong>Recommandation.</strong> Dimensionner le nombre de partitions dès le départ pour la charge maximale anticipée, avec une marge confortable. Éviter d'augmenter le nombre de partitions sur un topic avec des données ordonnées en production. Si une augmentation est nécessaire, planifier une période de transition où le désordre temporaire est acceptable.</p>
<hr />
<h2 id="iii34-serialisation-des-donnees-et-gestion-des-schemas">III.3.4 Sérialisation des Données et Gestion des Schémas<a class="headerlink" href="#iii34-serialisation-des-donnees-et-gestion-des-schemas" title="Permanent link">&para;</a></h2>
<h3 id="le-role-critique-de-la-serialisation">Le Rôle Critique de la Sérialisation<a class="headerlink" href="#le-role-critique-de-la-serialisation" title="Permanent link">&para;</a></h3>
<p>La sérialisation convertit les objets applicatifs en séquences d'octets pour le transport et le stockage. La désérialisation effectue l'opération inverse côté consommateur. Ces opérations sont critiques pour l'interopérabilité entre producteurs et consommateurs, potentiellement développés par des équipes différentes, dans des langages différents, et évoluant à des rythmes différents.</p>
<p>Kafka est agnostique au format des données — il transporte des tableaux d'octets sans interprétation. Cette flexibilité laisse le choix du format à l'architecte, mais ce choix a des implications majeures sur l'évolutivité, la performance, et la gouvernance.</p>
<h3 id="formats-de-serialisation-courants">Formats de Sérialisation Courants<a class="headerlink" href="#formats-de-serialisation-courants" title="Permanent link">&para;</a></h3>
<p><strong>JSON.</strong> Le format le plus accessible : lisible par les humains, supporté universellement, sans schéma explicite. Cependant, JSON est verbeux (noms de champs répétés dans chaque message), lent à parser, et sans validation de schéma native. JSON convient au prototypage et aux cas où la lisibilité prime sur la performance, mais est déconseillé pour les systèmes à haute volumétrie.</p>
<p><strong>Apache Avro.</strong> Format binaire compact avec schéma évolutif. Le schéma est séparé des données et peut être stocké dans un Schema Registry. Avro supporte l'évolution des schémas (ajout/suppression de champs) avec des règles de compatibilité. C'est le format recommandé pour la majorité des déploiements Kafka entreprise.</p>
<p><strong>Protocol Buffers (Protobuf).</strong> Format binaire développé par Google, très performant et compact. Protobuf utilise des fichiers <code>.proto</code> pour définir les schémas et génère du code dans de nombreux langages. Excellent pour la performance mais l'évolution des schémas est plus contrainte qu'Avro.</p>
<p><strong>Apache Thrift.</strong> Similar à Protobuf, développé par Facebook. Moins courant dans l'écosystème Kafka.</p>
<table>
<thead>
<tr>
<th>Format</th>
<th>Taille</th>
<th>Vitesse</th>
<th>Lisibilité</th>
<th>Évolution schéma</th>
<th>Adoption Kafka</th>
</tr>
</thead>
<tbody>
<tr>
<td>JSON</td>
<td>Grande</td>
<td>Lente</td>
<td>Excellente</td>
<td>Ad hoc</td>
<td>Prototypage</td>
</tr>
<tr>
<td>Avro</td>
<td>Compacte</td>
<td>Rapide</td>
<td>Binaire</td>
<td>Excellente</td>
<td>Recommandé</td>
</tr>
<tr>
<td>Protobuf</td>
<td>Très compacte</td>
<td>Très rapide</td>
<td>Binaire</td>
<td>Bonne</td>
<td>Performance critique</td>
</tr>
</tbody>
</table>
<h3 id="schema-registry">Schema Registry<a class="headerlink" href="#schema-registry" title="Permanent link">&para;</a></h3>
<p>Le <strong>Schema Registry</strong> est un composant central pour la gestion des schémas dans un écosystème Kafka. Il stocke les schémas, assigne des identifiants uniques, et valide la compatibilité des évolutions.</p>
<p><strong>Fonctionnement.</strong> Le producteur enregistre le schéma lors du premier envoi (ou vérifie qu'il existe). Le Schema Registry retourne un ID de schéma. Le producteur inclut cet ID dans chaque message (typiquement les 5 premiers octets). Le consommateur extrait l'ID, récupère le schéma depuis le Registry, et désérialise le message.</p>
<p><strong>Règles de compatibilité.</strong> Le Schema Registry applique des règles de compatibilité lors de l'enregistrement de nouveaux schémas :</p>
<ul>
<li><strong>BACKWARD</strong> : Les nouveaux schémas peuvent lire les données écrites avec des anciens schémas. Permet d'ajouter des champs optionnels ou de supprimer des champs.</li>
<li><strong>FORWARD</strong> : Les anciens schémas peuvent lire les données écrites avec des nouveaux schémas. Permet d'ajouter des champs ou de supprimer des champs optionnels.</li>
<li><strong>FULL</strong> : Combinaison de BACKWARD et FORWARD. Les schémas sont compatibles dans les deux sens.</li>
<li><strong>NONE</strong> : Pas de validation de compatibilité (déconseillé en production).</li>
</ul>
<p><strong>Implémentations.</strong> Confluent Schema Registry est l'implémentation de référence, intégrée à Confluent Platform et Confluent Cloud. Des alternatives open source existent : Apicurio (Red Hat), Karapace (Aiven).</p>
<blockquote>
<p><strong>Exemple concret</strong></p>
<p><em>Scénario</em> : Évolution d'un schéma d'événement <code>OrderCreated</code>.</p>
<p><em>Version 1</em> :
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;record&quot;</span><span class="p">,</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OrderCreated&quot;</span><span class="p">,</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;orderId&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">},</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;customerId&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">},</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;double&quot;</span><span class="p">}</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="p">}</span>
</code></pre></div></p>
<p><em>Version 2</em> : Ajout d'un champ <code>currency</code> avec valeur par défaut.
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;record&quot;</span><span class="p">,</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OrderCreated&quot;</span><span class="p">,</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;orderId&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">},</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;customerId&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">},</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;double&quot;</span><span class="p">},</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;currency&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;USD&quot;</span><span class="p">}</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="p">}</span>
</code></pre></div></p>
<p><em>Avec compatibilité BACKWARD</em> : Cette évolution est acceptée. Les nouveaux consommateurs (V2) peuvent lire les anciens messages (V1) en utilisant la valeur par défaut pour <code>currency</code>.</p>
<p><em>Version 3 problématique</em> : Suppression du champ <code>customerId</code> sans valeur par défaut.</p>
<p><em>Avec compatibilité BACKWARD</em> : Cette évolution est rejetée. Les nouveaux consommateurs ne pourraient pas lire les anciens messages qui contiennent <code>customerId</code>.</p>
</blockquote>
<h3 id="bonnes-pratiques-de-gestion-des-schemas">Bonnes Pratiques de Gestion des Schémas<a class="headerlink" href="#bonnes-pratiques-de-gestion-des-schemas" title="Permanent link">&para;</a></h3>
<p><strong>Définir la compatibilité au niveau du sujet.</strong> Chaque topic (ou sujet dans le Schema Registry) devrait avoir une règle de compatibilité définie. BACKWARD est recommandé pour la plupart des cas car elle permet aux consommateurs de se mettre à jour avant les producteurs.</p>
<p>La compatibilité BACKWARD signifie qu'un nouveau schéma peut lire les données écrites avec l'ancien schéma. Cela permet un déploiement progressif : déployer d'abord les nouveaux consommateurs (qui comprennent les deux formats), puis déployer les nouveaux producteurs.</p>
<p><strong>Versionner explicitement les schémas.</strong> Inclure un champ de version ou utiliser les namespaces pour distinguer les versions majeures incompatibles. Pour les changements incompatibles, créer un nouveau topic plutôt que de casser la compatibilité.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;record&quot;</span><span class="p">,</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OrderCreated&quot;</span><span class="p">,</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">  </span><span class="nt">&quot;namespace&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;com.example.orders.v2&quot;</span><span class="p">,</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">  </span><span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Documenter les schémas.</strong> Utiliser les champs <code>doc</code> d'Avro pour documenter la sémantique de chaque champ. Cette documentation devient la spécification du contrat entre producteurs et consommateurs.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;record&quot;</span><span class="p">,</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OrderCreated&quot;</span><span class="p">,</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="nt">&quot;doc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Événement émis quand une nouvelle commande est créée dans le système.&quot;</span><span class="p">,</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;orderId&quot;</span><span class="p">,</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">      </span><span class="nt">&quot;doc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Identifiant unique de la commande, format UUID.&quot;</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;customerId&quot;</span><span class="p">,</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">      </span><span class="nt">&quot;doc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Identifiant du client ayant passé la commande.&quot;</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;totalAmount&quot;</span><span class="p">,</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bytes&quot;</span><span class="p">,</span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">        </span><span class="nt">&quot;logicalType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;decimal&quot;</span><span class="p">,</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="w">        </span><span class="nt">&quot;precision&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">        </span><span class="nt">&quot;scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="w">      </span><span class="nt">&quot;doc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Montant total de la commande en devise locale.&quot;</span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Tester les évolutions.</strong> Avant de déployer une nouvelle version de schéma en production, valider la compatibilité avec le Schema Registry et tester avec des données réelles.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Validation de compatibilité avant enregistrement</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/vnd.schemaregistry.v1+json&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;schema&quot;: &quot;{...}&quot;}&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">  </span>http://schema-registry:8081/compatibility/subjects/orders-value/versions/latest
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="c1"># Réponse : {&quot;is_compatible&quot;: true}</span>
</code></pre></div>
<p><strong>Gouverner les changements.</strong> Établir un processus de revue pour les modifications de schémas, similaire aux revues de code. Les changements de schémas impactent potentiellement tous les consommateurs d'un topic.</p>
<p>Un processus typique de gouvernance des schémas inclut :
1. Proposition de changement avec justification métier.
2. Validation de la compatibilité avec le Schema Registry.
3. Revue par l'équipe architecture ou les owners du topic.
4. Tests d'intégration avec les consommateurs connus.
5. Déploiement progressif avec monitoring.</p>
<p><strong>Stratégies de migration pour changements incompatibles :</strong></p>
<p>Quand un changement incompatible est nécessaire (changement de type d'un champ, renommage d'un champ obligatoire), plusieurs stratégies existent :</p>
<p><em>Double-écriture temporaire.</em> Produire vers l'ancien et le nouveau topic simultanément pendant une période de migration. Les consommateurs migrent progressivement vers le nouveau topic.</p>
<p><em>Topic versionné.</em> Créer un nouveau topic avec le nouveau schéma (ex: <code>orders-v2</code>). Migrer les consommateurs un par un, puis arrêter la production vers l'ancien topic.</p>
<p><em>Événement de migration.</em> Publier un événement spécial qui signale le changement de format, permettant aux consommateurs de s'adapter dynamiquement.</p>
<blockquote>
<p><strong>Anti-patron</strong></p>
<p><em>« Nous utilisons JSON sans schéma pour rester flexibles. »</em> Cette approche, séduisante au début, conduit invariablement à des problèmes :
- Consommateurs qui cassent silencieusement quand un champ change de nom ou de type.
- Impossibilité de savoir quels champs sont obligatoires ou optionnels.
- Documentation qui diverge de la réalité.
- Débogage difficile des erreurs de parsing.</p>
<p><em>Meilleure approche</em> : Utiliser Avro ou Protobuf avec Schema Registry dès le début. Le « coût » de la définition de schémas est largement compensé par la fiabilité et la maintenabilité à long terme.</p>
</blockquote>
<hr />
<h2 id="iii35-optimisation-des-performances">III.3.5 Optimisation des Performances<a class="headerlink" href="#iii35-optimisation-des-performances" title="Permanent link">&para;</a></h2>
<h3 id="metriques-de-performance-du-producteur">Métriques de Performance du Producteur<a class="headerlink" href="#metriques-de-performance-du-producteur" title="Permanent link">&para;</a></h3>
<p>Avant d'optimiser, il faut mesurer. Les métriques clés du producteur permettent d'identifier les goulots d'étranglement et de valider les optimisations.</p>
<p><strong>Débit (throughput).</strong> Nombre de messages ou volume de données produits par seconde. Mesuré par <code>record-send-rate</code> et <code>byte-rate</code> dans les métriques JMX du producteur.</p>
<p><strong>Latence.</strong> Temps entre l'appel <code>send()</code> et la confirmation du broker. Mesuré par <code>request-latency-avg</code> et <code>request-latency-max</code>. La latence perçue par l'application inclut aussi le temps d'accumulation dans le buffer.</p>
<p><strong>Taux d'erreur.</strong> Pourcentage de messages qui échouent après tous les retries. Mesuré par <code>record-error-rate</code>. Un taux non nul indique des problèmes à investiguer.</p>
<p><strong>Utilisation des buffers.</strong> Pourcentage de la mémoire buffer utilisée. Mesuré par <code>buffer-available-bytes</code> comparé à <code>buffer.memory</code>. Un buffer constamment plein indique que le producteur ne peut pas suivre le rythme de l'application.</p>
<p><strong>Batching efficiency.</strong> Taille moyenne des batches envoyés, comparée à <code>batch.size</code>. Des batches petits indiquent que <code>linger.ms</code> est trop bas ou que le débit est faible.</p>
<h3 id="leviers-doptimisation-du-debit">Leviers d'Optimisation du Débit<a class="headerlink" href="#leviers-doptimisation-du-debit" title="Permanent link">&para;</a></h3>
<p><strong>Augmenter <code>batch.size</code>.</strong> Des batches plus grands amortissent le coût de chaque requête réseau sur plus de messages. La valeur par défaut (16 Ko) est conservatrice. Pour les charges élevées, des valeurs de 64 Ko à 256 Ko peuvent significativement améliorer le débit.</p>
<p><strong>Augmenter <code>linger.ms</code>.</strong> Un temps d'attente plus long permet d'accumuler plus de messages par batch. Une valeur de 5-20 ms est souvent un bon compromis entre latence et débit. Pour les applications où la latence n'est pas critique, des valeurs plus élevées (50-100 ms) maximisent le batching.</p>
<p><strong>Activer la compression.</strong> La compression réduit le volume de données à transmettre et à stocker. LZ4 ou Zstd offrent d'excellents ratios avec un overhead CPU modéré. Pour les données textuelles (JSON, logs), des ratios de compression de 60-80% sont courants.</p>
<p><strong>Augmenter <code>buffer.memory</code>.</strong> Plus de mémoire permet d'absorber les pics de production et de maintenir un pipeline de batches prêts à envoyer. La valeur par défaut (32 Mo) peut être insuffisante pour les charges élevées.</p>
<p><strong>Paralléliser les producteurs.</strong> Pour les très hauts débits, plusieurs instances de producteur (dans des threads ou processus séparés) peuvent être nécessaires. Chaque producteur a son propre buffer et sender thread.</p>
<h3 id="leviers-doptimisation-de-la-latence">Leviers d'Optimisation de la Latence<a class="headerlink" href="#leviers-doptimisation-de-la-latence" title="Permanent link">&para;</a></h3>
<p><strong>Réduire <code>linger.ms</code>.</strong> Une valeur de 0 envoie immédiatement chaque message (ou petit batch). Cela minimise la latence mais peut réduire le débit si les messages arrivent en flux continu.</p>
<p><strong>Utiliser <code>acks=1</code> plutôt que <code>acks=all</code>.</strong> La confirmation du leader seul est plus rapide que l'attente de tous les ISR. Ce choix sacrifie de la durabilité pour de la latence.</p>
<p><strong>Optimiser la sérialisation.</strong> Des sérialiseurs efficaces (Avro, Protobuf) sont plus rapides que JSON. La génération de code (Avro SpecificRecord, Protobuf) est plus rapide que la réflexion (Avro GenericRecord).</p>
<p>Pour les applications où chaque milliseconde compte, profiler la sérialisation pour identifier les goulots d'étranglement. La création d'objets, la réflexion, et la conversion de types peuvent être coûteuses.</p>
<p><strong>Proximité réseau.</strong> La latence réseau entre le producteur et les brokers est incompressible. Déployer les producteurs dans la même région/zone que les brokers. Pour les déploiements multi-région, chaque région devrait avoir ses propres brokers locaux.</p>
<p><strong>Tuning TCP.</strong> Pour les cas de latence critique, ajuster les paramètres TCP :
- <code>socket.send.buffer.bytes</code> : Taille du buffer d'envoi socket.
- <code>socket.receive.buffer.bytes</code> : Taille du buffer de réception.
- Désactiver Nagle's algorithm au niveau OS si nécessaire.</p>
<p><strong>Pré-chauffage des connexions.</strong> Au démarrage, le producteur doit établir les connexions et récupérer les métadonnées. Les premiers messages peuvent avoir une latence plus élevée. Pour les applications sensibles à la latence de démarrage, envoyer quelques messages de « warm-up » avant le trafic réel.</p>
<h3 id="optimisation-de-la-compression">Optimisation de la Compression<a class="headerlink" href="#optimisation-de-la-compression" title="Permanent link">&para;</a></h3>
<p>La compression peut significativement améliorer le débit en réduisant le volume de données transférées, mais elle consomme du CPU. Le choix de l'algorithme et des paramètres dépend du profil de l'application.</p>
<p><strong>Comparaison des algorithmes :</strong></p>
<table>
<thead>
<tr>
<th>Algorithme</th>
<th>Ratio</th>
<th>Vitesse compression</th>
<th>Vitesse décompression</th>
<th>CPU</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>1.0x</td>
<td>-</td>
<td>-</td>
<td>Minimal</td>
</tr>
<tr>
<td>Snappy</td>
<td>1.5-2x</td>
<td>Très rapide</td>
<td>Très rapide</td>
<td>Faible</td>
</tr>
<tr>
<td>LZ4</td>
<td>2-3x</td>
<td>Très rapide</td>
<td>Très rapide</td>
<td>Faible</td>
</tr>
<tr>
<td>Zstd</td>
<td>3-5x</td>
<td>Rapide</td>
<td>Rapide</td>
<td>Modéré</td>
</tr>
<tr>
<td>GZIP</td>
<td>4-6x</td>
<td>Lente</td>
<td>Modérée</td>
<td>Élevé</td>
</tr>
</tbody>
</table>
<p><strong>Recommandations par cas d'usage :</strong></p>
<ul>
<li><em>Latence critique</em> : Snappy ou LZ4 (overhead minimal).</li>
<li><em>Débit maximal</em> : LZ4 ou Zstd niveau bas (bon ratio, rapide).</li>
<li><em>Coût stockage/réseau critique</em> : Zstd niveau 3-5 ou GZIP (meilleur ratio).</li>
<li><em>Messages déjà compressés</em> : None (double compression inefficace).</li>
</ul>
<p><strong>Compression par batch.</strong> La compression s'applique au batch entier, pas aux messages individuels. Des batches plus grands donnent de meilleurs ratios de compression car l'algorithme peut exploiter les patterns répétitifs sur plus de données.</p>
<p><strong>Impact sur les consommateurs.</strong> La décompression s'effectue côté consommateur. Un algorithme lent à compresser mais rapide à décompresser (comme GZIP) peut être acceptable si les consommateurs sont nombreux et les producteurs peu nombreux.</p>
<h3 id="compromis-latence-vs-debit">Compromis Latence vs. Débit<a class="headerlink" href="#compromis-latence-vs-debit" title="Permanent link">&para;</a></h3>
<p>Les optimisations de latence et de débit sont souvent en tension. L'architecte doit comprendre ces compromis pour faire des choix éclairés.</p>
<table>
<thead>
<tr>
<th>Paramètre</th>
<th>Pour le débit</th>
<th>Pour la latence</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>linger.ms</code></td>
<td>Augmenter (5-100ms)</td>
<td>Réduire (0-5ms)</td>
<td>Batching vs. réactivité</td>
</tr>
<tr>
<td><code>batch.size</code></td>
<td>Augmenter (64-256 Ko)</td>
<td>Réduire (16 Ko)</td>
<td>Efficacité vs. attente</td>
</tr>
<tr>
<td><code>acks</code></td>
<td><code>1</code> ou <code>0</code></td>
<td><code>1</code></td>
<td>Durabilité vs. vitesse</td>
</tr>
<tr>
<td><code>compression</code></td>
<td>Activer</td>
<td>Dépend du CPU</td>
<td>Réseau vs. CPU</td>
</tr>
<tr>
<td><code>buffer.memory</code></td>
<td>Augmenter</td>
<td>Moins important</td>
<td>Capacité d'absorption</td>
</tr>
<tr>
<td><code>max.in.flight.requests</code></td>
<td>Augmenter (5)</td>
<td>Maintenir (5)</td>
<td>Pipeline vs. ordre</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note de terrain</strong></p>
<p><em>Contexte</em> : Optimisation d'un producteur pour un système de trading où la latence est critique (&lt; 10ms p99).</p>
<p><em>Configuration initiale</em> : Défauts Kafka (<code>linger.ms=0</code>, <code>batch.size=16Ko</code>, <code>acks=all</code>).</p>
<p><em>Mesures initiales</em> : Latence p99 = 45ms, principalement due à l'attente des ISR.</p>
<p><em>Optimisations appliquées</em> :
1. <code>acks=1</code> : Latence p99 → 15ms (suppression de l'attente des followers).
2. Brokers sur SSD avec cache suffisant : Latence p99 → 8ms.
3. Compression désactivée (messages petits, CPU est le goulot) : Latence p99 → 6ms.</p>
<p><em>Compromis accepté</em> : <code>acks=1</code> réduit la durabilité (perte possible si le leader crashe immédiatement après confirmation). Mitigation : réplication synchrone avec <code>min.insync.replicas=2</code> sur les brokers, de sorte que le leader a probablement déjà répliqué quand il confirme.</p>
<p><em>Leçon</em> : L'optimisation de latence requiert de comprendre où le temps est passé (profiling) et d'accepter des compromis explicites.</p>
</blockquote>
<h3 id="monitoring-et-alerting">Monitoring et Alerting<a class="headerlink" href="#monitoring-et-alerting" title="Permanent link">&para;</a></h3>
<p>Un producteur en production doit être monitoré pour détecter les problèmes avant qu'ils n'impactent les utilisateurs. Les métriques du producteur sont exposées via JMX et peuvent être collectées par Prometheus, Datadog, ou d'autres systèmes de monitoring.</p>
<p><strong>Métriques à surveiller :</strong></p>
<p><em>Métriques de débit :</em>
- <code>record-send-rate</code> : Nombre de messages envoyés par seconde.
- <code>byte-rate</code> : Volume de données envoyées par seconde.
- <code>record-send-total</code> : Total cumulé de messages envoyés.</p>
<p><em>Métriques de latence :</em>
- <code>request-latency-avg</code> : Latence moyenne des requêtes vers les brokers.
- <code>request-latency-max</code> : Latence maximale observée.
- <code>record-queue-time-avg</code> : Temps moyen passé dans le buffer avant envoi.</p>
<p><em>Métriques d'erreur :</em>
- <code>record-error-rate</code> : Taux de messages en erreur par seconde.
- <code>record-error-total</code> : Total cumulé de messages en erreur.
- <code>record-retry-rate</code> : Taux de retry par seconde.</p>
<p><em>Métriques de ressources :</em>
- <code>buffer-available-bytes</code> : Mémoire buffer disponible.
- <code>buffer-total-bytes</code> : Mémoire buffer totale (égale à <code>buffer.memory</code>).
- <code>bufferpool-wait-time</code> : Temps d'attente pour obtenir de la mémoire buffer.
- <code>waiting-threads</code> : Nombre de threads bloqués en attente de mémoire.</p>
<p><em>Métriques de batching :</em>
- <code>batch-size-avg</code> : Taille moyenne des batches envoyés.
- <code>batch-size-max</code> : Taille maximale des batches.
- <code>records-per-request-avg</code> : Nombre moyen de messages par requête.
- <code>compression-rate-avg</code> : Ratio de compression moyen.</p>
<p><em>Métriques de connexion :</em>
- <code>connection-count</code> : Nombre de connexions actives vers les brokers.
- <code>connection-creation-rate</code> : Taux de création de nouvelles connexions.
- <code>connection-close-rate</code> : Taux de fermeture de connexions.</p>
<p><strong>Configuration de l'export des métriques :</strong></p>
<p>Pour Prometheus avec JMX Exporter :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># jmx_exporter_config.yml</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nt">rules</span><span class="p">:</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka.producer&lt;type=producer-metrics, client-id=(.+)&gt;&lt;&gt;(.+)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka_producer_$2</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span><span class="nt">labels</span><span class="p">:</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">      </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$1&quot;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka.producer&lt;type=producer-topic-metrics, client-id=(.+), topic=(.+)&gt;&lt;&gt;(.+)</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka_producer_topic_$3</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="nt">labels</span><span class="p">:</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">      </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$1&quot;</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">      </span><span class="nt">topic</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$2&quot;</span>
</code></pre></div>
<p><strong>Alertes recommandées :</strong></p>
<table>
<thead>
<tr>
<th>Métrique</th>
<th>Seuil</th>
<th>Sévérité</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>record-error-rate</code></td>
<td>&gt; 0.1% pendant 5 min</td>
<td>Haute</td>
<td>Investiguer les erreurs</td>
</tr>
<tr>
<td><code>buffer-available-bytes</code></td>
<td>&lt; 20% pendant 2 min</td>
<td>Haute</td>
<td>Vérifier le débit, augmenter buffer</td>
</tr>
<tr>
<td><code>request-latency-avg</code></td>
<td>&gt; 2× baseline pendant 5 min</td>
<td>Moyenne</td>
<td>Vérifier les brokers</td>
</tr>
<tr>
<td><code>batch-size-avg</code></td>
<td>&lt; 10% de <code>batch.size</code></td>
<td>Basse</td>
<td>Ajuster <code>linger.ms</code></td>
</tr>
<tr>
<td><code>waiting-threads</code></td>
<td>&gt; 0 pendant 1 min</td>
<td>Moyenne</td>
<td>Backpressure, réduire le débit</td>
</tr>
<tr>
<td><code>connection-creation-rate</code></td>
<td>&gt; 10/min</td>
<td>Basse</td>
<td>Vérifier la stabilité réseau</td>
</tr>
</tbody>
</table>
<p><strong>Dashboards recommandés :</strong></p>
<p>Un dashboard de monitoring de producteur devrait inclure :</p>
<ol>
<li><em>Vue d'ensemble</em> : Débit global (messages/s, bytes/s), taux d'erreur global.</li>
<li><em>Latence</em> : Histogramme de latence, percentiles (p50, p95, p99).</li>
<li><em>Ressources</em> : Utilisation du buffer, threads en attente.</li>
<li><em>Par topic</em> : Débit et erreurs ventilés par topic.</li>
<li><em>Santé</em> : Connexions actives, retries, compression.</li>
</ol>
<hr />
<h2 id="iii36-recommandations-architecturales-pour-les-producers">III.3.6 Recommandations Architecturales pour les Producers<a class="headerlink" href="#iii36-recommandations-architecturales-pour-les-producers" title="Permanent link">&para;</a></h2>
<h3 id="patterns-de-conception-recommandes">Patterns de Conception Recommandés<a class="headerlink" href="#patterns-de-conception-recommandes" title="Permanent link">&para;</a></h3>
<p><strong>Producteur singleton par application.</strong> Créer une instance de producteur au démarrage de l'application et la réutiliser pour tous les envois. Le producteur est thread-safe et conçu pour être partagé. Créer un producteur par envoi est un anti-pattern qui gaspille des ressources et dégrade les performances.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">// Anti-pattern : producteur par envoi</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sendMessage</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">KafkaProducer</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">producer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KafkaProducer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">props</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">        </span><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ProducerRecord</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;topic&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">));</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="p">}</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="c1">// Pattern recommandé : producteur singleton</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MessageSender</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">KafkaProducer</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">producer</span><span class="p">;</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MessageSender</span><span class="p">(</span><span class="n">Properties</span><span class="w"> </span><span class="n">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">producer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KafkaProducer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">props</span><span class="p">);</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sendMessage</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">        </span><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ProducerRecord</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;topic&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">),</span><span class="w"> </span><span class="k">this</span><span class="p">::</span><span class="n">handleResult</span><span class="p">);</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">close</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="w">        </span><span class="n">producer</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Fermeture gracieuse.</strong> Appeler <code>producer.close()</code> lors de l'arrêt de l'application. Cette méthode attend que les messages en buffer soient envoyés et confirmés. Sans fermeture gracieuse, les messages en buffer peuvent être perdus.</p>
<p><strong>Gestion centralisée des erreurs.</strong> Implémenter un handler d'erreur centralisé invoqué par les callbacks. Ce handler peut logger, alerter, stocker les messages en erreur pour retry ultérieur, ou déclencher un circuit breaker.</p>
<p><strong>Séparation des topics par criticité.</strong> Utiliser des producteurs séparés (avec des configurations différentes) pour les topics critiques et non critiques. Les messages critiques utilisent <code>acks=all</code> et des retries agressifs ; les messages non critiques utilisent <code>acks=1</code> et des configurations optimisées pour le débit.</p>
<h3 id="resilience-et-haute-disponibilite">Résilience et Haute Disponibilité<a class="headerlink" href="#resilience-et-haute-disponibilite" title="Permanent link">&para;</a></h3>
<p><strong>Idempotence par défaut.</strong> Activer <code>enable.idempotence=true</code> pour tous les producteurs (c'est le défaut en Kafka 3.0+). Il n'y a pas de raison de ne pas l'activer — les gains en fiabilité sont gratuits.</p>
<p>L'idempotence ne garantit pas l'exactly-once de bout en bout (qui nécessite les transactions), mais elle élimine les duplicatas causés par les retries du producteur. C'est une amélioration significative par rapport au comportement at-least-once de base.</p>
<p><strong>Timeouts appropriés.</strong> Configurer <code>delivery.timeout.ms</code> selon les exigences de l'application. La valeur par défaut (2 minutes) est conservatrice. Pour les applications temps réel, une valeur plus courte (30 secondes) permet de détecter les problèmes plus rapidement.</p>
<p>La hiérarchie des timeouts doit être cohérente :
- <code>delivery.timeout.ms</code> ≥ <code>linger.ms</code> + <code>request.timeout.ms</code>
- <code>request.timeout.ms</code> (défaut 30s) est le timeout d'une requête individuelle
- <code>retry.backoff.ms</code> (défaut 100ms) est le délai entre les retries</p>
<p><strong>Circuit breaker applicatif.</strong> Si le producteur échoue de manière répétée (broker down, réseau coupé), l'application ne devrait pas continuer à accumuler des messages indéfiniment. Implémenter un circuit breaker qui rejette les nouveaux messages quand le producteur est en échec, permettant à l'application de réagir (mode dégradé, stockage alternatif).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ResilientProducer</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">KafkaProducer</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">producer</span><span class="p">;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">CircuitBreaker</span><span class="w"> </span><span class="n">circuitBreaker</span><span class="p">;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AtomicInteger</span><span class="w"> </span><span class="n">consecutiveFailures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtomicInteger</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">FAILURE_THRESHOLD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Duration</span><span class="w"> </span><span class="n">RECOVERY_TIMEOUT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span><span class="p">.</span><span class="na">ofSeconds</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">send</span><span class="p">(</span><span class="n">ProducerRecord</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">record</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">circuitBreaker</span><span class="p">.</span><span class="na">allowRequest</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CircuitOpenException</span><span class="p">(</span><span class="s">&quot;Producteur en mode dégradé&quot;</span><span class="p">);</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">        </span><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span><span class="w"> </span><span class="n">exception</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">exception</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">consecutiveFailures</span><span class="p">.</span><span class="na">incrementAndGet</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">FAILURE_THRESHOLD</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="w">                    </span><span class="n">circuitBreaker</span><span class="p">.</span><span class="na">trip</span><span class="p">();</span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="w">                </span><span class="c1">// Gestion de l&#39;erreur</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="w">                </span><span class="n">consecutiveFailures</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="w">        </span><span class="p">});</span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Métriques de santé.</strong> Exposer les métriques du producteur via JMX ou un endpoint de santé. Intégrer ces métriques au système de monitoring de l'organisation. Un producteur qui ne peut pas envoyer est aussi problématique qu'un broker down.</p>
<p><strong>Stratégie de backpressure.</strong> Quand le producteur ne peut pas suivre le rythme de l'application (buffer plein), plusieurs stratégies sont possibles :</p>
<p><em>Blocage</em> : L'appel <code>send()</code> bloque jusqu'à ce que de la mémoire soit disponible (<code>max.block.ms</code>). Simple mais peut propager les problèmes à l'application appelante.</p>
<p><em>Rejet rapide</em> : Configurer <code>max.block.ms=0</code> pour échouer immédiatement si le buffer est plein. L'application doit gérer le rejet (file locale, stockage alternatif).</p>
<p><em>Throttling</em> : L'application limite proactivement son débit de production basé sur les métriques du producteur (buffer utilization).</p>
<p><strong>Gestion des Dead Letter Queues (DLQ).</strong> Bien que Kafka n'ait pas de DLQ native côté producteur, une implémentation applicative est recommandée pour les messages qui échouent de manière répétée :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sendWithDLQ</span><span class="p">(</span><span class="n">ProducerRecord</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">record</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span><span class="w"> </span><span class="n">exception</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">exception</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">isNonRetriable</span><span class="p">(</span><span class="n">exception</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">            </span><span class="c1">// Envoyer vers la DLQ</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">            </span><span class="n">ProducerRecord</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dlqRecord</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProducerRecord</span><span class="o">&lt;&gt;</span><span class="p">(</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">                </span><span class="kd">record</span><span class="err">.</span><span class="nc">topic</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;.dlq&quot;</span><span class="p">,</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">                </span><span class="kd">record</span><span class="err">.</span><span class="nc">key</span><span class="p">(),</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">                </span><span class="kd">record</span><span class="err">.</span><span class="nc">value</span><span class="p">()</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">            </span><span class="p">);</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">            </span><span class="n">dlqRecord</span><span class="p">.</span><span class="na">headers</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;X-Original-Topic&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">record</span><span class="p">.</span><span class="na">topic</span><span class="p">().</span><span class="na">getBytes</span><span class="p">());</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">            </span><span class="n">dlqRecord</span><span class="p">.</span><span class="na">headers</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;X-Error&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">exception</span><span class="p">.</span><span class="na">getMessage</span><span class="p">().</span><span class="na">getBytes</span><span class="p">());</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">            </span><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="n">dlqRecord</span><span class="p">);</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">    </span><span class="p">});</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="p">}</span>
</code></pre></div>
<h3 id="considerations-multi-datacenter">Considérations Multi-Datacenter<a class="headerlink" href="#considerations-multi-datacenter" title="Permanent link">&para;</a></h3>
<p><strong>Producteur local, réplication globale.</strong> Le producteur devrait toujours envoyer vers le cluster Kafka local (même région/datacenter). La réplication vers d'autres régions est gérée par MirrorMaker ou Cluster Linking, pas par le producteur.</p>
<p><strong>Fallback en cas de panne régionale.</strong> Si le cluster local devient indisponible, l'application peut basculer vers un cluster distant. Ce basculement doit être explicite (changement de configuration, redémarrage) plutôt qu'automatique, car il a des implications sur la latence et potentiellement sur l'ordre des messages.</p>
<p><strong>Gestion des identifiants transactionnels.</strong> Si les transactions Kafka sont utilisées, le <code>transactional.id</code> doit être unique par datacenter pour éviter les conflits. Un pattern courant est d'inclure l'identifiant du datacenter dans le transactional.id.</p>
<h3 id="tests-des-producteurs">Tests des Producteurs<a class="headerlink" href="#tests-des-producteurs" title="Permanent link">&para;</a></h3>
<p><strong>Tests unitaires avec MockProducer.</strong> Kafka fournit un <code>MockProducer</code> pour les tests unitaires. Il permet de vérifier les messages envoyés sans cluster Kafka réel.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">MockProducer</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mockProducer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MockProducer</span><span class="o">&lt;&gt;</span><span class="p">(</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// autocomplete</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">StringSerializer</span><span class="p">(),</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">StringSerializer</span><span class="p">()</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="p">);</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="n">MyService</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyService</span><span class="p">(</span><span class="n">mockProducer</span><span class="p">);</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="n">service</span><span class="p">.</span><span class="na">processOrder</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">ProducerRecord</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockProducer</span><span class="p">.</span><span class="na">history</span><span class="p">();</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="n">assertEquals</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">records</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;orders&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">records</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">topic</span><span class="p">());</span>
</code></pre></div>
<p><strong>Tests d'intégration avec Testcontainers.</strong> Pour les tests d'intégration, Testcontainers permet de démarrer un cluster Kafka éphémère dans Docker.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nd">@Testcontainers</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kd">class</span> <span class="nc">KafkaIntegrationTest</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="nd">@Container</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">KafkaContainer</span><span class="w"> </span><span class="n">kafka</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KafkaContainer</span><span class="p">(</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">        </span><span class="n">DockerImageName</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;confluentinc/cp-kafka:7.5.0&quot;</span><span class="p">)</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldProduceMessages</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">        </span><span class="n">Properties</span><span class="w"> </span><span class="n">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Properties</span><span class="p">();</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">        </span><span class="n">props</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;bootstrap.servers&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">kafka</span><span class="p">.</span><span class="na">getBootstrapServers</span><span class="p">());</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="w">        </span><span class="c1">// ... configuration</span>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">KafkaProducer</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">producer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KafkaProducer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">props</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="w">            </span><span class="n">producer</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ProducerRecord</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;test-topic&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;key&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;value&quot;</span><span class="p">)).</span><span class="na">get</span><span class="p">();</span>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="w">        </span><span class="c1">// Vérification avec un consommateur</span>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Tests de charge.</strong> Avant la mise en production, valider les performances avec des tests de charge réalistes. L'outil <code>kafka-producer-perf-test.sh</code> fourni avec Kafka permet des tests rapides. Pour des tests plus sophistiqués, des outils comme Gatling ou custom JMeter peuvent simuler des patterns de production réalistes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Test de performance intégré</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>kafka-producer-perf-test.sh<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span>--topic<span class="w"> </span>test-topic<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span>--num-records<span class="w"> </span><span class="m">1000000</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">    </span>--record-size<span class="w"> </span><span class="m">1024</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span>--throughput<span class="w"> </span>-1<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">    </span>--producer-props<span class="w"> </span>bootstrap.servers<span class="o">=</span>localhost:9092<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">                     </span><span class="nv">acks</span><span class="o">=</span>all<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">                     </span>linger.ms<span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">                     </span>batch.size<span class="o">=</span><span class="m">65536</span>
</code></pre></div>
<p><strong>Tests de résilience.</strong> Valider le comportement du producteur en cas de panne : broker down, partition leader failover, réseau lent. Ces tests révèlent souvent des problèmes de configuration ou de gestion d'erreurs. Des outils comme Chaos Monkey, Toxiproxy, ou simplement <code>iptables</code> peuvent simuler ces conditions.</p>
<h3 id="producteurs-dans-differents-langages">Producteurs dans Différents Langages<a class="headerlink" href="#producteurs-dans-differents-langages" title="Permanent link">&para;</a></h3>
<p>Bien que ce chapitre utilise Java pour les exemples, Kafka dispose de clients dans de nombreux langages. L'architecte doit comprendre les différences et les limitations.</p>
<p><strong>librdkafka (C/C++).</strong> Bibliothèque native de haute performance utilisée par de nombreux wrappers dans d'autres langages. Offre d'excellentes performances mais une API de plus bas niveau.</p>
<p><strong>confluent-kafka-python.</strong> Wrapper Python autour de librdkafka. Populaire pour les applications data science et les scripts. Attention : le GIL Python peut limiter le parallélisme.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">confluent_kafka</span><span class="w"> </span><span class="kn">import</span> <span class="n">Producer</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="n">producer</span> <span class="o">=</span> <span class="n">Producer</span><span class="p">({</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    <span class="s1">&#39;bootstrap.servers&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost:9092&#39;</span><span class="p">,</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    <span class="s1">&#39;acks&#39;</span><span class="p">:</span> <span class="s1">&#39;all&#39;</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="p">})</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">delivery_callback</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    <span class="k">if</span> <span class="n">err</span><span class="p">:</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Erreur: </span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Message envoyé à </span><span class="si">{</span><span class="n">msg</span><span class="o">.</span><span class="n">topic</span><span class="p">()</span><span class="si">}</span><span class="s1"> [</span><span class="si">{</span><span class="n">msg</span><span class="o">.</span><span class="n">partition</span><span class="p">()</span><span class="si">}</span><span class="s1">]&#39;</span><span class="p">)</span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="n">producer</span><span class="o">.</span><span class="n">produce</span><span class="p">(</span><span class="s1">&#39;topic&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">delivery_callback</span><span class="p">)</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="n">producer</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</code></pre></div>
<p><strong>confluent-kafka-go.</strong> Client Go natif avec d'excellentes performances. Idiomatique pour les développeurs Go.</p>
<p><strong>node-rdkafka et kafkajs.</strong> Deux options pour Node.js : node-rdkafka (wrapper librdkafka, plus performant) et kafkajs (JavaScript pur, plus facile à installer).</p>
<p><strong>.NET (Confluent.Kafka).</strong> Client .NET officiel, wrapper autour de librdkafka. Bien intégré à l'écosystème .NET.</p>
<p><strong>Considérations cross-langage :</strong></p>
<ul>
<li>Les fonctionnalités avancées (transactions, exactly-once) peuvent ne pas être disponibles dans tous les clients.</li>
<li>Les performances varient significativement entre les implémentations.</li>
<li>La sérialisation avec Schema Registry nécessite des bibliothèques spécifiques par langage.</li>
<li>Les configurations par défaut peuvent différer — toujours vérifier.</li>
</ul>
<blockquote>
<p><strong>Perspective stratégique</strong></p>
<p>Le producteur Kafka est souvent traité comme un « détail d'implémentation », configuré avec les valeurs par défaut et oublié. Cette approche mène à des problèmes en production : perte de messages, latence imprévisible, saturation de mémoire.</p>
<p>L'architecte devrait traiter la configuration du producteur comme une décision architecturale à part entière, documentée, revue, et testée. Les choix de <code>acks</code>, de stratégie de partitionnement, de gestion des schémas, et de résilience ont un impact direct sur les garanties du système global.</p>
<p>Un « template » de producteur bien configuré, documenté, et testé devrait être fourni aux équipes de développement comme point de départ. Ce template encode les décisions architecturales de l'organisation et assure une cohérence entre les applications.</p>
</blockquote>
<h3 id="checklist-de-mise-en-production">Checklist de Mise en Production<a class="headerlink" href="#checklist-de-mise-en-production" title="Permanent link">&para;</a></h3>
<p>Avant de déployer un producteur en production, valider les points suivants :</p>
<p><strong>Configuration :</strong>
- [ ] <code>bootstrap.servers</code> pointe vers le cluster de production
- [ ] <code>acks</code> est configuré selon la criticité des données
- [ ] <code>enable.idempotence=true</code> est activé
- [ ] <code>compression.type</code> est défini (lz4 ou zstd recommandé)
- [ ] <code>linger.ms</code> et <code>batch.size</code> sont ajustés pour le cas d'usage
- [ ] <code>delivery.timeout.ms</code> est approprié</p>
<p><strong>Sérialisation :</strong>
- [ ] Les sérialiseurs sont configurés et testés
- [ ] Le schéma est enregistré dans Schema Registry
- [ ] La compatibilité du schéma est vérifiée</p>
<p><strong>Résilience :</strong>
- [ ] Les callbacks gèrent les erreurs
- [ ] Un circuit breaker est implémenté si approprié
- [ ] La fermeture gracieuse est implémentée</p>
<p><strong>Monitoring :</strong>
- [ ] Les métriques du producteur sont exposées
- [ ] Les alertes sont configurées
- [ ] Les dashboards sont disponibles</p>
<p><strong>Tests :</strong>
- [ ] Tests unitaires avec MockProducer
- [ ] Tests d'intégration avec cluster de test
- [ ] Tests de charge validés
- [ ] Tests de résilience effectués</p>
<hr />
<h2 id="iii37-resume">III.3.7 Résumé<a class="headerlink" href="#iii37-resume" title="Permanent link">&para;</a></h2>
<p>Ce chapitre a exploré en profondeur le producteur Kafka, le composant responsable de la publication des messages vers le cluster. Une compréhension approfondie du producteur est essentielle pour concevoir des applications fiables et performantes.</p>
<h3 id="architecture-interne">Architecture Interne<a class="headerlink" href="#architecture-interne" title="Permanent link">&para;</a></h3>
<p>Le producteur Kafka est un composant sophistiqué avec plusieurs sous-systèmes : le thread principal qui sérialise et partitionne, le RecordAccumulator qui batche les messages par partition, le thread sender qui gère l'envoi réseau et les réponses, et le buffer pool qui gère la mémoire.</p>
<p>Le cycle de vie d'un message traverse ces composants : sérialisation → partitionnement → accumulation → envoi → confirmation. Chaque étape est configurable et impacte les performances et les garanties. Les intercepteurs et les headers permettent d'enrichir ce cycle avec des comportements transversaux comme le traçage distribué.</p>
<h3 id="garanties-de-livraison">Garanties de Livraison<a class="headerlink" href="#garanties-de-livraison" title="Permanent link">&para;</a></h3>
<p>Kafka offre trois niveaux de garanties : at-most-once (perte possible), at-least-once (duplicatas possibles), et exactly-once (ni perte ni duplicata). Le niveau est déterminé par la configuration <code>acks</code>, l'activation de l'idempotence, et l'utilisation optionnelle des transactions.</p>
<p>L'idempotence (<code>enable.idempotence=true</code>) élimine les duplicatas causés par les retries et devrait être activée par défaut. Les transactions permettent l'écriture atomique cross-partition pour les cas d'usage avancés comme le stream processing exactly-once. Le choix du niveau de garantie dépend des exigences métier — les transactions ne sont justifiées que pour les cas nécessitant l'atomicité.</p>
<h3 id="strategies-de-partitionnement">Stratégies de Partitionnement<a class="headerlink" href="#strategies-de-partitionnement" title="Permanent link">&para;</a></h3>
<p>Le partitionnement détermine les garanties d'ordre et la distribution de charge. Le partitionnement par clé garantit l'ordre pour une clé donnée. Le partitionnement sans clé (sticky ou round-robin) optimise la distribution. Des partitionneurs personnalisés permettent des logiques métier spécifiques comme le routage géographique ou l'isolation par tenant.</p>
<p>Le choix de la stratégie de partitionnement est une décision architecturale critique qui doit être documentée et ses implications comprises. La tension entre ordre (invariants métier) et distribution (performance) doit être résolue en faveur des invariants métier dans la plupart des cas.</p>
<h3 id="serialisation-et-schemas">Sérialisation et Schémas<a class="headerlink" href="#serialisation-et-schemas" title="Permanent link">&para;</a></h3>
<p>La sérialisation convertit les objets en octets pour le transport. Avro avec Schema Registry est recommandé pour les déploiements entreprise : format compact, évolution contrôlée des schémas, validation de compatibilité. Protobuf est une alternative performante quand la compatibilité binaire est importante.</p>
<p>La gestion des schémas requiert une gouvernance : règles de compatibilité (BACKWARD, FORWARD, FULL), processus de revue des changements, documentation des champs. Les changements incompatibles nécessitent des stratégies de migration explicites (double-écriture, topics versionnés).</p>
<h3 id="optimisation-des-performances">Optimisation des Performances<a class="headerlink" href="#optimisation-des-performances" title="Permanent link">&para;</a></h3>
<p>Le débit s'optimise par le batching (<code>linger.ms</code>, <code>batch.size</code>), la compression, et le parallélisme. La latence s'optimise par la réduction du batching et le choix de <code>acks</code>. Ces objectifs sont souvent en tension et requièrent des compromis explicites selon les exigences de l'application.</p>
<p>La compression réduit le volume de données au prix du CPU. LZ4 et Zstd offrent d'excellents compromis pour la plupart des cas d'usage. Le monitoring des métriques du producteur est essentiel pour détecter les problèmes et valider les optimisations.</p>
<h3 id="bonnes-pratiques">Bonnes Pratiques<a class="headerlink" href="#bonnes-pratiques" title="Permanent link">&para;</a></h3>
<p>Les producteurs doivent être des singletons réutilisés, avec fermeture gracieuse. La gestion des erreurs doit être centralisée et les erreurs traitées (log, alerte, retry applicatif, DLQ). La configuration doit être adaptée à la criticité des données.</p>
<p>La résilience requiert l'idempotence, des timeouts appropriés, et des stratégies de circuit breaker pour les situations de panne prolongée. Le monitoring des métriques JMX et la mise en place d'alertes pertinentes permettent de détecter les problèmes avant qu'ils n'impactent les utilisateurs.</p>
<p>Les tests (unitaires avec MockProducer, intégration avec Testcontainers, charge, résilience) valident le comportement avant la production. Un template de producteur bien configuré et documenté devrait être fourni aux équipes de développement comme point de départ standardisé.</p>
<hr />
<h3 id="vers-le-chapitre-suivant">Vers le Chapitre Suivant<a class="headerlink" href="#vers-le-chapitre-suivant" title="Permanent link">&para;</a></h3>
<p>Ce chapitre a couvert la production de messages — comment les applications publient vers Kafka. Le chapitre suivant, « Création d'Applications Consommatrices », explorera l'autre côté de l'équation : comment les applications lisent et traitent les messages depuis Kafka.</p>
<p>La maîtrise des deux côtés — production et consommation — permet à l'architecte de concevoir des systèmes événementiels complets, de bout en bout.</p>
<hr />
<p><em>Volume III : Apache Kafka - Guide de l'Architecte</em></p>
<p><em>Chapitre III.3 — Clients Kafka et Production de Messages</em></p>
<p><em>Monographie « L'Entreprise Agentique »</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/agbruneau/CorpusInformatique" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "navigation.indexes", "toc.integrate", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>